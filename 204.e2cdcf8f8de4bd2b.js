"use strict";(self.webpackChunkamacom=self.webpackChunkamacom||[]).push([[204,75],{7204:(Y,A,a)=>{a.r(A),a.d(A,{MaterialApoyoModule:()=>at});var f=a(6814),u=a(6208),g=a(7075),n=a(6223),h=a(1896),c=a(9182),p=a(1476),m=a(3566),y=a(2589),v=a(553),M=a(9347),t=a(5879);let S=(()=>{class o{constructor(e,i){this.dialogRef=e,this.data=i}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(M.so),t.Y36(M.WI))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-delete",5,"i"]],decls:19,vars:3,consts:[[1,"clearfix"],[1,"font-weight-bold"]],template:function(i,r){1&i&&(t.TgZ(0,"ul",0)(1,"li")(2,"p")(3,"span",1)(4,"strong"),t._uU(5,"Nombre: "),t.qZA()(),t._uU(6),t.qZA()(),t.TgZ(7,"li")(8,"p")(9,"span",1)(10,"strong"),t._uU(11,"Descripci\xf3n: "),t.qZA()(),t._uU(12),t.qZA()(),t.TgZ(13,"li")(14,"p")(15,"span",1)(16,"strong"),t._uU(17,"Fecha: "),t.qZA()(),t._uU(18),t.qZA()()()),2&i&&(t.xp6(6),t.hij("",r.data.row.name," "),t.xp6(6),t.hij("",r.data.row.description," "),t.xp6(6),t.hij("",r.data.row.createdAt," "))}})}return o})();var F=a(9397),I=a(7398),N=a(9862),U=a(5798),T=a(4170),P=a(2032);function E(o,C){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," El nombre es requerida "),t.qZA())}function G(o,C){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," La url es requerida "),t.qZA())}function j(o,C){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," la descripci\xf3n es requerida "),t.qZA())}let J=(()=>{class o{constructor(e,i,r,s){this.data=e,this.fb=i,this.http=r,this.pasoParametrosService=s}ngOnInit(){this.idSupportMaterial=this.pasoParametrosService.obtenerParametro("data")?.id,this.form=this.fb.group({id:[this.data?.row?.id],idSupportMaterial:[this.idSupportMaterial],name:[this.data?.row?.name,n.kI.required],description:[this.data?.row?.description,n.kI.required],path:[this.data?.row?.path,n.kI.required]})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(M.WI),t.Y36(n.QS),t.Y36(N.eN),t.Y36(U.T))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-material-file"]],decls:20,vars:4,consts:[[1,"row",3,"formGroup"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","name"],[4,"ngIf"],["matInput","","formControlName","path"],[1,"row"],[1,"col-xl-12","col-lg-6","col-md-12","col-sm-12","mb-2"],["matInput","","formControlName","description","required",""]],template:function(i,r){if(1&i&&(t.TgZ(0,"form",0)(1,"div",1)(2,"mat-form-field",2)(3,"mat-label"),t._uU(4,"Nombre"),t.qZA(),t._UZ(5,"input",3),t.YNc(6,E,2,0,"mat-error",4),t.qZA()(),t.TgZ(7,"div",1)(8,"mat-form-field",2)(9,"mat-label"),t._uU(10,"Url"),t.qZA(),t._UZ(11,"input",5),t.YNc(12,G,2,0,"mat-error",4),t.qZA()(),t.TgZ(13,"div",6)(14,"div",7)(15,"mat-form-field",2)(16,"mat-label"),t._uU(17,"Descripcion"),t.qZA(),t._UZ(18,"textarea",8),t.YNc(19,j,2,0,"mat-error",4),t.qZA()()()()),2&i){let s,Z,B;t.Q6J("formGroup",r.form),t.xp6(6),t.Q6J("ngIf",null==(s=r.form.get("name"))?null:s.hasError("required")),t.xp6(6),t.Q6J("ngIf",null==(Z=r.form.get("path"))?null:Z.hasError("required")),t.xp6(7),t.Q6J("ngIf",null==(B=r.form.get("description"))?null:B.hasError("required"))}},dependencies:[f.O5,n._Y,n.Fj,n.JJ,n.JL,n.Q7,n.sg,n.u,T.KE,T.hX,T.TO,P.Nt]})}return o})();var D=a(2939),x=a(2296),l=a(3305),w=a(617),b=a(2596),d=a(3221),Q=a(4524),R=a(5295),L=a(9497),z=a(6877);const H=["tableTema"],K=["tableFiles"];function V(o,C){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," El nombre es requerido "),t.qZA())}function X(o,C){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," la descripci\xf3n es requerida "),t.qZA())}function W(o,C){if(1&o){const e=t.EpF();t.TgZ(0,"form",7)(1,"div",8)(2,"div",9)(3,"mat-form-field",10)(4,"mat-label"),t._uU(5,"Nombre"),t.qZA(),t._UZ(6,"input",11),t.YNc(7,V,2,0,"mat-error",12),t.qZA()()(),t.TgZ(8,"div",8)(9,"div",9)(10,"mat-form-field",10)(11,"mat-label"),t._uU(12,"Descripcion"),t.qZA(),t._UZ(13,"textarea",13),t.YNc(14,X,2,0,"mat-error",12),t.qZA()()(),t.TgZ(15,"div",8)(16,"mat-action-row")(17,"button",14),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.submit())}),t._uU(18," Guardar "),t.qZA(),t.TgZ(19,"button",15),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.volver())}),t._uU(20," Cancelar "),t.qZA()()()()}if(2&o){const e=t.oxw();let i,r;t.Q6J("formGroup",e.form),t.xp6(7),t.Q6J("ngIf",null==(i=e.form.get("name"))?null:i.hasError("required")),t.xp6(7),t.Q6J("ngIf",null==(r=e.form.get("description"))?null:r.hasError("required"))}}function $(o,C){if(1&o&&t._UZ(0,"app-crud-container",16),2&o){const e=t.oxw();t.Q6J("configTable",e.configFiles)("modalForm",e.modalFiles)}}function q(o,C){if(1&o){const e=t.EpF();t.TgZ(0,"div",8),t._UZ(1,"app-mat-select-complete",17),t.TgZ(2,"mat-action-row")(3,"button",14),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.agregarTema())}),t._uU(4," Agregar "),t.qZA()()(),t.TgZ(5,"app-ng-table",18,19),t.NdJ("deleteAction",function(r){t.CHM(e);const s=t.oxw();return t.KtG(s.deleteTema(r))}),t.qZA()}if(2&o){const e=t.oxw();t.xp6(1),t.Q6J("control",e.controlTema)("options",e.listTemas),t.xp6(4),t.Q6J("config",e.configtemas)}}let O=(()=>{class o{constructor(e,i,r,s,Z){this.fb=e,this.pasoParametrosService=i,this.http=r,this.location=s,this.snackBar=Z,this.isCreate=!1,this.title="Crear Material de apoyo",this.controlTema=new n.p4(null),this.configtemas={title:"Lista temas",keys:["id","subjectName"],headerColumns:["No","Nombre del tema"],urlData:v.N.apiUrl+"/supportMaterialHasSubject/search",typeColumns:["uuid",null,null,null],pageableOptions:{otherParams:{idSupportMaterial:null}},hideDefaultActions:{add:!0,edit:!0,view:!0},pageable:!0,showFilter:!0},this.configFiles={title:"Lista temas",keys:["id","name","description","path"],headerColumns:["No","Nombre","Descripcion","url"],urlData:v.N.apiUrl+"/supportMaterialFiles/consulta",typeColumns:["uuid",null,null,null],pageableOptions:{otherParams:{idSupportMaterial:null}},hideDefaultActions:{view:!0},pageable:!0,showFilter:!0},this.modalFiles={edit:{modal:{title:"Editar archivo a material de apoyo",component:J},urlEndpoint:"/supportMaterialFiles",actionType:"edit"},create:{modal:{title:"Agregar archivo a material de apoyo",component:J},actionType:"add",urlEndpoint:"/supportMaterialFiles/create"},delete:{actionType:"delete",urlEndpoint:"/supportMaterialFiles",configView:[{label:"Nombre",key:"name"},{label:"Descripcion",key:"description"},{label:"Url",key:"path"}]},view:{actionType:"view",configView:[{label:"Nombre",key:"name"},{label:"Descripcion",key:"description"},{label:"Url",key:"path"}]}}}ngOnInit(){this.data=this.pasoParametrosService.obtenerParametro("data"),this.isCreate=this.pasoParametrosService.obtenerParametro("modoEditar"),this.material=this.data,this.configtemas.pageableOptions.otherParams.idSupportMaterial=this.material?.id,this.configFiles.pageableOptions.otherParams.idSupportMaterial=this.material?.id,this.form=this.createContactForm()}createContactForm(){return this.fb.group({id:[this.material?.id],name:[this.material?.name,n.kI.required],description:[this.material?.description,n.kI.required],path:[this.material?.path,n.kI.required]})}volver(){this.location.back()}submit(){this.http.post(v.N.apiUrl+"/supportMaterial/create",this.form.value).pipe((0,F.b)(()=>{this.snackBar.open("Material creado exitosamente.")})).subscribe(e=>{console.log("material creado",e),this.data=e,this.form.controls.id.setValue(e.id),this.isCreate=!0,this.pasoParametrosService.adicionarParametro("data",e),this.configtemas.pageableOptions.otherParams.idSupportMaterial=e.id,this.tableTema.findData()})}agregarTema(){this.http.post(v.N.apiUrl+"/supportMaterialHasSubject/create",{idSupportMaterial:this.data.id,subjectId:this.controlTema.value}).pipe((0,F.b)(()=>{this.snackBar.open("Tema agredado al material exitosamente.")})).subscribe(e=>{this.controlTema.setValue(null),console.log("tema agregado",e),this.tableTema.findData()})}deleteTema(e){this.http.delete(v.N.apiUrl+"/supportMaterialHasSubject/"+e.id).pipe((0,F.b)(()=>{this.snackBar.open("Tema eliminado del material exitosamente.")})).subscribe(i=>{this.tableTema.findData()})}listTemas(e){return this.http.get(`${v.N.apiUrl}/subject/search`,{params:{page:0,size:100,query:e}}).pipe((0,I.U)(i=>i.content))}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(n.QS),t.Y36(U.T),t.Y36(N.eN),t.Y36(f.Ye),t.Y36(D.ux))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-material",5,"i"]],viewQuery:function(i,r){if(1&i&&(t.Gf(H,5),t.Gf(K,5)),2&i){let s;t.iGM(s=t.CRH())&&(r.tableTema=s.first),t.iGM(s=t.CRH())&&(r.tableFiles=s.first)}},decls:13,vars:3,consts:[[1,"card"],[1,"header"],["mat-mini-fab","","matTooltip","Volver",1,"btn","bg-purple","btn-lg","btn-block","waves-effect",3,"click"],[1,"body"],["stepperContent","","label","Material","icon","support_agent"],["stepperContent","","label","Archivos","icon","folder",3,"disabled"],["stepperContent","","label","Temas","icon","color_lens",3,"disabled"],[1,"m-4",3,"formGroup"],[1,"row"],[1,"col-xl-12","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","name","required",""],[4,"ngIf"],["matInput","","formControlName","description","required",""],["mat-raised-button","","color","primary","type","button",3,"click"],["mat-raised-button","","color","warn",3,"click"],[3,"configTable","modalForm"],["key","name","keyValue","id","label","Tema",3,"control","options"],[3,"config","deleteAction"],["tableTema",""]],template:function(i,r){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t.NdJ("click",function(){return r.volver()}),t.TgZ(3,"mat-icon"),t._uU(4,"keyboard_return"),t.qZA()(),t.TgZ(5,"h1")(6,"strong"),t._uU(7),t.qZA()()(),t.TgZ(8,"div",3)(9,"app-mat-stepper-main"),t.YNc(10,W,21,3,"ng-template",4),t.YNc(11,$,1,2,"ng-template",5),t.YNc(12,q,7,3,"ng-template",6),t.qZA()()()),2&i&&(t.xp6(7),t.Oqu(r.title),t.xp6(4),t.Q6J("disabled",!r.isCreate),t.xp6(1),t.Q6J("disabled",!r.isCreate))},dependencies:[f.O5,n._Y,n.Fj,n.JJ,n.JL,n.Q7,n.sg,n.u,x.lW,x.Tq,l.VG,T.KE,T.hX,T.TO,w.Hw,P.Nt,b.gM,d.i,Q._,R.r,L.f,z.X]})}return o})();const k=["filter"],_=[{path:"",component:(()=>{class o extends y.n{constructor(e,i,r,s,Z){super(),this.httpClient=e,this.dialog=i,this.snackBar=r,this.router=s,this.pasoParametrosService=Z,this.title="MATERIAL DE APOYO",this.subtitle="En esta pantalla podr\xe1s visualizar los materiales de apoyo existentes",this.config={title:"Lista de materiales de apoyo",keys:["id","name","description","updatedAt"],headerColumns:["No","Nombre","Descripcion","\xfaltima actualizaci\xf3n"],urlData:v.N.apiUrl+"/supportMaterial/search",typeColumns:["uuid",null,null,"date"],hideDefaultActions:{view:!0},pageable:!0,showFilter:!0,pageableOptions:{otherParams:{}}},this.modalForm={edit:{urlView:"/admin/gestion-material-apoyo/add",actionType:"edit"},create:{actionType:"add",urlView:"/admin/gestion-material-apoyo/add",urlEndpoint:"/supportMaterial/create"},delete:{modal:{title:"\xbfEst\xe1 seguro de eliminar el material apoyo?",component:S},actionType:"delete",urlEndpoint:"/supportMaterial"},view:{actionType:"view"}},this.listaMaterial=[],this.indicePrimerItem=1,this.indiceUltimoItem=10,this.displayedColumns=["select","img","name","gender","address","mobile","date","bGroup","treatment","actions"]}ngOnInit(){console.log("Material de apoyo")}addNew(){let e;e="true"===localStorage.getItem("isRtl")?"rtl":"ltr",this.dialog.open(O,{data:{action:"add"}})}search(e){this.id=e.id,this.pasoParametrosService.adicionarParametro("data",e),this.router.navigate(["/admin/gestionar-usuarios/personas/search-persona"])}editCall(e){let i;this.id=e.id,i="true"===localStorage.getItem("isRtl")?"rtl":"ltr",this.dialog.open(O,{data:{logro:e,action:"edit"}})}deleteItem(e){let i;this.id=e.id,i="true"===localStorage.getItem("isRtl")?"rtl":"ltr",this.dialog.open(S,{data:e,direction:i})}showNotification(e,i,r,s){this.snackBar.open(i,"",{duration:2e3,verticalPosition:r,horizontalPosition:s,panelClass:e})}llenarLista(){this.listaMaterial=[{id:1,nombre:"Material 1",date:"21/08/2023",descripcion:"material de apoyo 1",url:"a122s2d3333f43"},{id:2,nombre:"Material 2",date:"22/08/2023",descripcion:"material de apoyo 2",url:"a122s2d3333f43"},{id:3,nombre:"Material 3",date:"22/08/2023",descripcion:"material de apoyo 3",url:"a122s2d3333f43"}]}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(N.eN),t.Y36(M.uw),t.Y36(D.ux),t.Y36(h.F0),t.Y36(U.T))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-allmaterial"]],viewQuery:function(i,r){if(1&i&&(t.Gf(p.NW,7),t.Gf(m.YE,7),t.Gf(k,7)),2&i){let s;t.iGM(s=t.CRH())&&(r.paginator=s.first),t.iGM(s=t.CRH())&&(r.sort=s.first),t.iGM(s=t.CRH())&&(r.filter=s.first)}},features:[t.qOj],decls:1,vars:5,consts:[[3,"title","subtitle","disableContainer","configTable","modalForm"]],template:function(i,r){1&i&&t._UZ(0,"app-crud-container",0),2&i&&t.Q6J("title",r.title)("subtitle",r.subtitle)("disableContainer",!1)("configTable",r.config)("modalForm",r.modalForm)},dependencies:[Q._]})}return o})()},{path:"add",component:O},{path:"**",component:c.J}];let tt=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.oAB({type:o});static#a=this.\u0275inj=t.cJS({imports:[h.Bz.forChild(_),h.Bz]})}return o})();var et=a(8257);let at=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=t.oAB({type:o});static#a=this.\u0275inj=t.cJS({imports:[f.ez,u.m,g.K,n.UX,n.u5,tt,et.T5]})}return o})()},7075:(Y,A,a)=>{a.d(A,{K:()=>x});var f=a(9941),u=a(6814),g=a(6213),n=a(617),h=a(2296),c=a(1464),p=a(8875),m=a(5879);let y=(()=>{class l{static#t=this.\u0275fac=function(d){return new(d||l)};static#e=this.\u0275mod=m.oAB({type:l});static#a=this.\u0275inj=m.cJS({providers:[c.R,p.G],imports:[u.ez]})}return l})();var v=a(4170),M=a(6223),t=a(2032),S=a(1476),F=a(2599);let I=(()=>{class l{static#t=this.\u0275fac=function(d){return new(d||l)};static#e=this.\u0275mod=m.oAB({type:l});static#a=this.\u0275inj=m.cJS({imports:[u.ez,g.u,n.Ps,F.rP,S.TU,h.ot,v.lN,n.Ps,t.c,M.UX,y]})}return l})();var N=a(9347);let U=(()=>{class l{static#t=this.\u0275fac=function(d){return new(d||l)};static#e=this.\u0275mod=m.oAB({type:l});static#a=this.\u0275inj=m.cJS({imports:[u.ez,y]})}return l})(),T=(()=>{class l{static#t=this.\u0275fac=function(d){return new(d||l)};static#e=this.\u0275mod=m.oAB({type:l});static#a=this.\u0275inj=m.cJS({imports:[u.ez,f.w,n.Ps,I,h.ot,N.Is,U,y]})}return l})();var P=a(4630),E=a(8525);let G=(()=>{class l{static#t=this.\u0275fac=function(d){return new(d||l)};static#e=this.\u0275mod=m.oAB({type:l});static#a=this.\u0275inj=m.cJS({imports:[u.ez,M.u5,M.UX,n.Ps,E.LD,t.c,h.ot,v.lN,P.Bb]})}return l})();var j=a(8257),J=a(5195);let D=(()=>{class l{static#t=this.\u0275fac=function(d){return new(d||l)};static#e=this.\u0275mod=m.oAB({type:l});static#a=this.\u0275inj=m.cJS({imports:[u.ez,j.T5,J.QW]})}return l})(),x=(()=>{class l{static#t=this.\u0275fac=function(d){return new(d||l)};static#e=this.\u0275mod=m.oAB({type:l});static#a=this.\u0275inj=m.cJS({imports:[f.w,I,T,G,D]})}return l})()},1464:(Y,A,a)=>{a.d(A,{R:()=>u});var f=a(5879);let u=(()=>{class n{transform(c,p){return"date"===p?new Date(c).toLocaleDateString():"uuid"===p?c.slice(0,8):"badge"===p?`<span class="badge ${!0===c?"col-green":"col-orange"}">\n        ${!0===c?"Activo":"Inactivo"}\n      </span>`:c}static#t=this.\u0275fac=function(p){return new(p||n)};static#e=this.\u0275pipe=f.Yjl({name:"mapping",type:n,pure:!0})}return n})()},8875:(Y,A,a)=>{a.d(A,{G:()=>u});var f=a(5879);let u=(()=>{class g{transform(h,c,p){return h?c&&0!=c.length&&0!=p.length?(c=c.toLocaleLowerCase(),h.filter(m=>Array.isArray(p)?p.some(y=>String(m[y])?.toLocaleLowerCase().includes(c)):m[p].toLocaleLowerCase().includes(c))):h:[]}static#t=this.\u0275fac=function(c){return new(c||g)};static#e=this.\u0275pipe=f.Yjl({name:"searchFilter",type:g,pure:!0})}return g})()}}]);