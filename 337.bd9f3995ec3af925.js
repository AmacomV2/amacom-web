"use strict";(self.webpackChunkamacom=self.webpackChunkamacom||[]).push([[337],{9394:(L,A,e)=>{e.d(A,{l:()=>c});var g=e(5619),o=e(2589),t=e(5879),h=e(9862);let c=(()=>{class l extends o.n{constructor(s){super(),this.httpClient=s,this.API_URL="assets/data/itemStockList.json",this.isTblLoading=!0,this.dataChange=new g.X([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllItemStockLists(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:s=>{this.isTblLoading=!1,this.dataChange.next(s)},error:s=>{this.isTblLoading=!1,console.log(s.name+" "+s.message)}})}addItemStockList(s){this.dialogData=s}updateItemStockList(s){this.dialogData=s}deleteItemStockList(s){console.log(s)}static#t=this.\u0275fac=function(E){return new(E||l)(t.LFG(h.eN))};static#e=this.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac})}return l})()},6246:(L,A,e)=>{e.d(A,{Z:()=>N});var g=e(2589),o=e(6223),t=e(5879),h=e(9862),c=e(9347),l=e(2939),u=e(1896),s=e(6814),E=e(5798),x=e(553),U=e(9397);let S=(()=>{class f{constructor(_,p){this.http=_,this.snackbar=p,this.url=x.N.apiUrl}createBitacora(_){return this.http.post(`${this.url}/logBook/create`,_).pipe((0,U.b)(p=>{this.snackbar.open("Bitacora creada con \xe9xito")}))}updateBitacora(_){return this.http.put(`${this.url}/logBook`,_).pipe((0,U.b)(p=>{this.snackbar.open("Bitacora actualizada con \xe9xito")}))}static#t=this.\u0275fac=function(p){return new(p||f)(t.LFG(h.eN),t.LFG(l.ux))};static#e=this.\u0275prov=t.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})();var Z=e(2296),B=e(8034),m=e(4170),d=e(617),T=e(2032),v=e(2596);function M(f,y){1&f&&(t.TgZ(0,"mat-error"),t._uU(1," El t\xedtulo es requerido "),t.qZA())}function P(f,y){1&f&&(t.TgZ(0,"mat-error"),t._uU(1," La descripci\xf3n es requerida "),t.qZA())}let N=(()=>{class f extends g.n{constructor(_,p,C,D,F,O,a,b){super(),this.httpClient=_,this.dialog=p,this.snackBar=C,this.fb=D,this.router=F,this.location=O,this.pasoParametrosService=a,this.bitacoraService=b,this.modoEditar=!1,this.data=this.pasoParametrosService.obtenerParametro("data"),this.modoEditar=this.pasoParametrosService.obtenerParametro("modoEditar")}ngOnInit(){this.personId=this.pasoParametrosService.obtenerParametro("dataPersona")?.id,this.form=this.fb.group({id:[this.data?.id],name:[this.data?.name,[o.kI.required]],description:[this.data?.description,[o.kI.required]],personId:[this.data?.personId??this.personId],createdAt:[this.data?.createdAt??new Date]})}onSubmit(){(this.modoEditar?this.bitacoraService.updateBitacora(this.form.value):this.bitacoraService.createBitacora(this.form.value)).subscribe(p=>{console.log("BITACORA CREADA",p),this.form.controls.id.setValue(p.id),this.volver()})}cancelar(){this.volver()}volver(){this.location.back()}static#t=this.\u0275fac=function(p){return new(p||f)(t.Y36(h.eN),t.Y36(c.uw),t.Y36(l.ux),t.Y36(o.QS),t.Y36(u.F0),t.Y36(s.Ye),t.Y36(E.T),t.Y36(S))};static#e=this.\u0275cmp=t.Xpm({type:f,selectors:[["app-add-bitacora"]],features:[t.qOj],decls:46,vars:6,consts:[[1,"content"],[1,"content-block"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"card"],[1,"header"],["mat-mini-fab","","matTooltip","Volver",1,"btn","bg-purple","btn-lg","btn-block","waves-effect",3,"click"],[1,"body"],[1,"m-4",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-3"],["appearance","outline",1,"example-full-width","mb-3"],["matInput","","formControlName","name","required",""],[4,"ngIf"],["appearance","fill",1,"example-full-width","mb-3"],["matInput","","formControlName","description","required",""],["matInput","","formControlName","createdAt","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled"],["type","button","mat-raised-button","","color","warn",3,"click"]],template:function(p,C){if(1&p&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"a",6),t.NdJ("click",function(){return C.volver()}),t.TgZ(7,"mat-icon"),t._uU(8,"keyboard_return"),t.qZA()(),t.TgZ(9,"h1")(10,"strong"),t._uU(11,"Adicionar Bitacora"),t.qZA()()(),t.TgZ(12,"div",5)(13,"h6"),t._uU(14,"En esta pantalla podr\xe1s adicionar bitacoras"),t.qZA()(),t.TgZ(15,"div",7)(16,"form",8),t.NdJ("ngSubmit",function(){return C.onSubmit()}),t.TgZ(17,"div",9)(18,"div",10)(19,"mat-form-field",11)(20,"mat-label"),t._uU(21,"T\xedtulo"),t.qZA(),t._UZ(22,"input",12),t.YNc(23,M,2,0,"mat-error",13),t.qZA()()(),t.TgZ(24,"div",9)(25,"div",10)(26,"mat-form-field",14)(27,"mat-label"),t._uU(28,"Descripci\xf3n"),t.qZA(),t._UZ(29,"textarea",15),t.YNc(30,P,2,0,"mat-error",13),t.qZA()()(),t.TgZ(31,"div",9)(32,"div",10)(33,"mat-form-field",11)(34,"mat-label"),t._uU(35,"Fecha"),t.qZA(),t._UZ(36,"input",16)(37,"mat-datepicker-toggle",17)(38,"mat-datepicker",null,18),t.qZA()()(),t.TgZ(40,"div",9)(41,"div",10)(42,"button",19),t._uU(43," Crear "),t.qZA(),t.TgZ(44,"button",20),t.NdJ("click",function(){return C.cancelar()}),t._uU(45," Cancelar "),t.qZA()()()()()()()()()()),2&p){const D=t.MAs(39);let F,O;t.xp6(16),t.Q6J("formGroup",C.form),t.xp6(7),t.Q6J("ngIf",null==(F=C.form.get("name"))?null:F.hasError("required")),t.xp6(7),t.Q6J("ngIf",null==(O=C.form.get("description"))?null:O.hasError("required")),t.xp6(6),t.Q6J("matDatepicker",D),t.xp6(1),t.Q6J("for",D),t.xp6(5),t.Q6J("disabled",!C.form.valid)}},dependencies:[s.O5,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.sg,o.u,Z.lW,Z.Tq,B.Mq,B.hl,B.nW,m.KE,m.hX,m.TO,m.R9,d.Hw,T.Nt,v.gM]})}return f})()},8812:(L,A,e)=>{e.d(A,{I:()=>S});var g=e(1476),o=e(3566),t=e(8337),h=e(2589),c=e(5879),l=e(9862),u=e(9347),s=e(2939),E=e(1896),x=e(6515);const U=["filter"];let S=(()=>{class Z extends h.n{constructor(m,d,T,v){super(),this.httpClient=m,this.dialog=d,this.snackBar=T,this.router=v,this.listaBitacora=[],this.indicePrimerItem=1,this.indiceUltimoItem=10,this.displayedColumns=["select","i_name","category","qty","date","price","details","actions"],this.selection=new t.Ov(!0,[])}ngOnInit(){console.log(this.listaBitacora,"LISTAAA1"),this.llenarLista(),console.log(this.listaBitacora,"LISTAAA")}refresh(){}addNew(){this.router.navigate(["/doctor/inventory/issued-items"])}editCall1(m){this.router.navigate(["/doctor/inventory/editar-bitacora"])}search(m){let d;this.id=m.id,d="true"===localStorage.getItem("isRtl")?"rtl":"ltr"}editCall(m){let d;this.id=m.id,d="true"===localStorage.getItem("isRtl")?"rtl":"ltr"}deleteItem(m){let d;this.id=m.id,d="true"===localStorage.getItem("isRtl")?"rtl":"ltr"}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}showNotification(m,d,T,v){this.snackBar.open(d,"",{duration:2e3,verticalPosition:T,horizontalPosition:v,panelClass:m})}llenarLista(){this.listaBitacora=[{id:1,i_name:"pruebita",date:"27/06/2001",descripcion:"hellou"},{id:2,i_name:"pruebita2",date:"27/06/2001",descripcion:"no soy una descripci\xf3n"}]}static#t=this.\u0275fac=function(d){return new(d||Z)(c.Y36(l.eN),c.Y36(u.uw),c.Y36(s.ux),c.Y36(E.F0))};static#e=this.\u0275cmp=c.Xpm({type:Z,selectors:[["app-all-bitacora"]],viewQuery:function(d,T){if(1&d&&(c.Gf(g.NW,7),c.Gf(o.YE,7),c.Gf(U,7)),2&d){let v;c.iGM(v=c.CRH())&&(T.paginator=v.first),c.iGM(v=c.CRH())&&(T.sort=v.first),c.iGM(v=c.CRH())&&(T.filter=v.first)}},features:[c.qOj],decls:3,vars:0,consts:[[1,"content"],[1,"content-block"]],template:function(d,T){1&d&&(c.TgZ(0,"section",0)(1,"div",1),c._UZ(2,"app-bitacora"),c.qZA()())},dependencies:[x.D]})}return Z})()},6515:(L,A,e)=>{e.d(A,{D:()=>O});var g=e(9347),o=e(6223),t=e(5879),h=e(9394),c=e(6814),l=e(2296),u=e(8034),s=e(4170),E=e(617),x=e(2032);function U(a,b){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," El t\xedtulo es requerido "),t.qZA())}function S(a,b){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," Por favor selecciona una fecha "),t.qZA())}function Z(a,b){if(1&a&&(t.TgZ(0,"div",9)(1,"div",10)(2,"mat-form-field",11)(3,"mat-label"),t._uU(4,"T\xedtulo"),t.qZA(),t._UZ(5,"input",12),t.TgZ(6,"mat-icon",13),t._uU(7,"title"),t.qZA(),t.YNc(8,U,2,0,"mat-error",14),t.qZA()(),t.TgZ(9,"div",10)(10,"mat-form-field",11)(11,"mat-label"),t._uU(12,"Fecha"),t.qZA(),t._UZ(13,"input",15)(14,"mat-datepicker-toggle",16)(15,"mat-datepicker",null,17),t.YNc(17,S,2,0,"mat-error",14),t.qZA()()()),2&a){const r=t.MAs(16),i=t.oxw();let n,I;t.xp6(8),t.Q6J("ngIf",null==(n=i.itemStockListForm.get("i_name"))?null:n.hasError("required")),t.xp6(5),t.Q6J("matDatepicker",r),t.xp6(1),t.Q6J("for",r),t.xp6(3),t.Q6J("ngIf",null==(I=i.itemStockListForm.get("date"))?null:I.hasError("required"))}}function B(a,b){1&a&&(t.TgZ(0,"mat-error"),t._uU(1," La descripci\xf3n es requerida "),t.qZA())}function m(a,b){if(1&a&&(t.TgZ(0,"div",9)(1,"div",18)(2,"mat-form-field",11)(3,"mat-label"),t._uU(4,"Descripcion"),t.qZA(),t._UZ(5,"input",19),t.TgZ(6,"mat-icon",13),t._uU(7,"description"),t.qZA(),t.YNc(8,B,2,0,"mat-error",14),t.qZA()()()),2&a){const r=t.oxw();let i;t.xp6(8),t.Q6J("ngIf",null==(i=r.itemStockListForm.get("descripcion"))?null:i.hasError("required"))}}function d(a,b){if(1&a&&(t.TgZ(0,"div",9)(1,"div",20),t._uU(2," T\xedtulo "),t.TgZ(3,"strong",21),t._uU(4),t.qZA()()()),2&a){const r=t.oxw();t.xp6(4),t.Oqu(r.itemStockList.i_name)}}function T(a,b){if(1&a&&(t.TgZ(0,"div",9)(1,"div",20),t._uU(2," Descripci\xf3n "),t.TgZ(3,"strong",21),t._uU(4),t.qZA()()()),2&a){const r=t.oxw();t.xp6(4),t.Oqu(r.itemStockList.descripcion)}}function v(a,b){if(1&a&&(t.TgZ(0,"div",9)(1,"div",20),t._uU(2," Fecha de creaci\xf3n "),t.TgZ(3,"strong",21),t._uU(4),t.qZA()()()),2&a){const r=t.oxw();t.xp6(4),t.Oqu(r.itemStockList.date)}}function M(a,b){if(1&a){const r=t.EpF();t.TgZ(0,"div",9)(1,"div",18)(2,"div",22)(3,"button",23),t.NdJ("click",function(){t.CHM(r);const n=t.oxw();return t.KtG(n.confirmAdd())}),t._uU(4,"Guardar"),t.qZA(),t.TgZ(5,"button",24),t.NdJ("click",function(){t.CHM(r);const n=t.oxw();return t.KtG(n.onNoClick())}),t._uU(6,"Cancelar"),t.qZA()()()()}if(2&a){const r=t.oxw();t.xp6(3),t.Q6J("disabled",!r.itemStockListForm.valid)("mat-dialog-close",1)}}let P=(()=>{class a{constructor(r,i,n,I){this.dialogRef=r,this.data=i,this.itemStockListService=n,this.fb=I,this.formControl=new o.p4("",[o.kI.required]),this.bandera=i.bandera,this.itemStockList=i.itemStockList,this.dialogTitle=!1===this.bandera?"EDITAR BITACORA":"CONSULTAR BITACORA",this.itemStockListForm=this.createContactForm()}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("email")?"Not a valid email":""}createContactForm(){return this.fb.group({id:[this.itemStockList.id],i_name:[this.itemStockList.i_name],date:[this.itemStockList.date],descripcion:[this.itemStockList.descripcion]})}submit(){}onNoClick(){this.dialogRef.close()}confirmAdd(){}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(g.so),t.Y36(g.WI),t.Y36(h.l),t.Y36(o.QS))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-form-dialog",5,"h"]],decls:17,vars:8,consts:[[1,"addContainer"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],[1,"modal-about"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"register-form","m-4",3,"formGroup","ngSubmit"],["class","row",4,"ngIf"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","i_name","required",""],["matSuffix","",1,"material-icons-two-tone","color-icon","p-3"],[4,"ngIf"],["matInput","","matInput","","formControlName","date","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["matInput","","formControlName","descripcion","required","",1,"flexible-input"],[1,"col-xl-12","col-lg-6","col-md-12","col-sm-12","mb-2"],["id","fechaCreacion"],[1,"example-button-row"],["mat-raised-button","","color","primary",3,"disabled","mat-dialog-close","click"],["mat-raised-button","","color","warn","tabindex","-1",3,"click"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5),t.qZA()()(),t.TgZ(6,"button",5),t.NdJ("click",function(){return n.dialogRef.close()}),t.TgZ(7,"mat-icon"),t._uU(8,"close"),t.qZA()()(),t.TgZ(9,"div",6)(10,"form",7),t.NdJ("ngSubmit",function(){return n.submit}),t.YNc(11,Z,18,4,"div",8),t.YNc(12,m,9,1,"div",8),t.YNc(13,d,5,1,"div",8),t.YNc(14,T,5,1,"div",8),t.YNc(15,v,5,1,"div",8),t.YNc(16,M,7,2,"div",8),t.qZA()()()),2&i&&(t.xp6(5),t.hij(" ",n.dialogTitle," "),t.xp6(5),t.Q6J("formGroup",n.itemStockListForm),t.xp6(1),t.Q6J("ngIf",1!=n.bandera),t.xp6(1),t.Q6J("ngIf",1!=n.bandera),t.xp6(1),t.Q6J("ngIf",1==n.bandera),t.xp6(1),t.Q6J("ngIf",1==n.bandera),t.xp6(1),t.Q6J("ngIf",1==n.bandera),t.xp6(1),t.Q6J("ngIf",1!=n.bandera))},dependencies:[c.O5,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.sg,o.u,l.lW,l.RK,u.Mq,u.hl,u.nW,g.ZT,g.xY,s.KE,s.hX,s.TO,s.R9,E.Hw,x.Nt]})}return a})();var N=e(2589),f=e(553);let y=(()=>{class a{constructor(r,i){this.dialogRef=r,this.data=i}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(g.so),t.Y36(g.WI))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-delete-bitacora-bitacora",5,"h"]],decls:19,vars:3,consts:[[1,"clearfix"],[1,"font-weight-bold"]],template:function(i,n){1&i&&(t.TgZ(0,"ul",0)(1,"li")(2,"p")(3,"span",1)(4,"strong"),t._uU(5,"T\xedtulo: "),t.qZA()(),t._uU(6),t.qZA()(),t.TgZ(7,"li")(8,"p")(9,"span",1)(10,"strong"),t._uU(11,"Descripci\xf3n: "),t.qZA()(),t._uU(12),t.qZA()(),t.TgZ(13,"li")(14,"p")(15,"span",1)(16,"strong"),t._uU(17,"Fecha de creaci\xf3n: "),t.qZA()(),t._uU(18),t.qZA()()()),2&i&&(t.xp6(6),t.hij("",n.data.row.name," "),t.xp6(6),t.hij("",n.data.row.description," "),t.xp6(6),t.hij("",n.data.row.createdAt," "))}})}return a})();var _=e(9862),p=e(2939),C=e(1896),D=e(5798),F=e(4524);let O=(()=>{class a extends N.n{constructor(r,i,n,I,R){super(),this.httpClient=r,this.dialog=i,this.snackBar=n,this.router=I,this.pasoParametrosService=R,this.title="DIAGNOSTICOS",this.subtitle="En esta pantalla podr\xe1s visualizar las personas",this.config={title:"Lista de bitacoras",keys:["id","name","description","updatedAt"],headerColumns:["No","Nombre Completo","Detalle","\xfaltima actualizaci\xf3n"],urlData:f.N.apiUrl+"/logBook/consult",typeColumns:["uuid",null,null,"date"],pageableOptions:{otherParams:{personId:null}},pageable:!0,showFilter:!0},this.modalForm={create:{urlView:"/doctor/inventory/issued-items",actionType:"add"},edit:{urlView:"/doctor/inventory/issued-items",actionType:"edit"},delete:{modal:{title:"\xbfEst\xe1 seguro de eliminar la bitacora?",component:y},actionType:"delete",urlEndpoint:"/logBook"},view:{configView:[{key:"name",label:"Nombre"},{key:"description",label:"Descripci\xf3n"},{key:"createdAt",label:"Fecha de creaci\xf3n",type:"date"}],modal:{title:"Detalle de la bitacora",width:"400px"},actionType:"view"}}}ngOnInit(){this.config.pageableOptions.otherParams.personId=this.pasoParametrosService.obtenerParametro("dataPersona").id}refresh(){}addNew(){this.router.navigate(["/doctor/inventory/issued-items"])}editCall1(r){this.router.navigate(["/doctor/inventory/editar-bitacora"])}search(r){let i;i="true"===localStorage.getItem("isRtl")?"rtl":"ltr",this.dialog.open(P,{data:{itemStockList:r,bandera:!0},direction:i})}editCall(r){let i;i="true"===localStorage.getItem("isRtl")?"rtl":"ltr",this.dialog.open(P,{data:{itemStockList:r,bandera:!1},direction:i})}deleteItem(r){let i;i="true"===localStorage.getItem("isRtl")?"rtl":"ltr",this.dialog.open(y,{data:r,direction:i})}static#t=this.\u0275fac=function(i){return new(i||a)(t.Y36(_.eN),t.Y36(g.uw),t.Y36(p.ux),t.Y36(C.F0),t.Y36(D.T))};static#e=this.\u0275cmp=t.Xpm({type:a,selectors:[["app-bitacora"]],features:[t.qOj],decls:1,vars:7,consts:[[3,"title","subtitle","showCreateButton","configTable","modalForm","disableContainer","hideContainer"]],template:function(i,n){1&i&&t._UZ(0,"app-crud-container",0),2&i&&t.Q6J("title",n.title)("subtitle",n.subtitle)("showCreateButton",!0)("configTable",n.config)("modalForm",n.modalForm)("disableContainer",!0)("hideContainer",!0)},dependencies:[F._],encapsulation:2})}return a})()},1693:(L,A,e)=>{e.d(A,{Y:()=>t});var g=e(6223),o=e(5879);let t=(()=>{class h{emitFiles(l){const u=l&&l.item(0);this.onChange(u),this.file=u}constructor(l){this.host=l,this.file=null}writeValue(l){this.host.nativeElement.value="",this.file=null}registerOnChange(l){this.onChange=l}registerOnTouched(l){}static#t=this.\u0275fac=function(u){return new(u||h)(o.Y36(o.SBq))};static#e=this.\u0275cmp=o.Xpm({type:h,selectors:[["app-file-upload"]],hostBindings:function(u,s){1&u&&o.NdJ("change",function(x){return s.emitFiles(x.target.files)})},features:[o._Bn([{provide:g.JU,useExisting:h,multi:!0}])],decls:6,vars:1,consts:[[1,"file-drop-area"],["mat-raised-button","","color","primary"],["type","file",1,"file-input"]],template:function(u,s){1&u&&(o.TgZ(0,"div",0)(1,"button",1),o._uU(2,"Elija el archivo"),o.qZA(),o.TgZ(3,"span"),o._uU(4),o.qZA(),o._UZ(5,"input",2),o.qZA()),2&u&&(o.xp6(4),o.Oqu(s.file?s.file.name:" o arrastra y suelta el archivo aqu\xed"))},styles:[".file-drop-area[_ngcontent-%COMP%]{border:1px dashed #7c7db3;border-radius:3px;position:relative;max-width:100%;margin-top:5px;padding:26px 20px 30px;transition:.2s}.file-input[_ngcontent-%COMP%]{position:absolute;left:0;top:0;height:100%;width:100%;cursor:pointer;opacity:0}.file-msg[_ngcontent-%COMP%]{display:inline-block;margin-left:5px;font-size:12px;font-weight:500;color:#5b5bff}"]})}return h})()}}]);