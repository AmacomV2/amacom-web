"use strict";(self.webpackChunkamacom=self.webpackChunkamacom||[]).push([[491],{491:(J,N,r)=>{r.r(N),r.d(N,{AmbulanceModule:()=>Lt});var c=r(6814),L=r(1896),A=r(9182),d=r(5619),b=r(2589),e=r(5879),_=r(9862);let C=(()=>{class t extends b.n{constructor(a){super(),this.httpClient=a,this.API_URL="assets/data/ambulanceCallList.json",this.isTblLoading=!0,this.dataChange=new d.X([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllAmbulanceCallLists(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:a=>{this.isTblLoading=!1,this.dataChange.next(a)},error:a=>{this.isTblLoading=!1,console.log(a.name+" "+a.message)}})}addAmbulanceCallList(a){this.dialogData=a}updateAmbulanceCallList(a){this.dialogData=a}deleteAmbulanceCallList(a){console.log(a)}static#e=this.\u0275fac=function(l){return new(l||t)(e.LFG(_.eN))};static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac})}return t})();var T=r(1476),Z=r(3566),v=r(8337),p=r(9347),u=r(6223);class I{constructor(n){this.id=n.id||this.getRandomID(),this.case_no=n.case_no||"",this.patient_name=n.patient_name||"",this.gender=n.gender||"Male",this.date=(0,c.p6)(new Date,"yyyy-MM-dd","en")||"",this.vehicle_no=n.vehicle_no||"",this.driver_name=n.driver_name||"",this.driver_no=n.driver_no||"",this.patient_address=n.patient_address||"",this.note=n.note||""}getRandomID(){const n=()=>65536*(1+Math.random())|0;return n()+n()}}var x=r(2296),y=r(8034),D=r(4170),q=r(617),F=r(2032),R=r(7466);function Q(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Name is required "),e.qZA())}function E(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Patient Name is required "),e.qZA())}function M(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Select gender "),e.qZA())}function O(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Please select date "),e.qZA())}function B(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Vehicle No Name is required "),e.qZA())}function P(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Driver Name is required "),e.qZA())}function G(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Driver No is required "),e.qZA())}let s=(()=>{class t{constructor(a,l,i,o){this.dialogRef=a,this.data=l,this.ambulanceCallListService=i,this.fb=o,this.formControl=new u.p4("",[u.kI.required]),this.action=l.action,"edit"===this.action?(this.dialogTitle=l.ambulanceCallList.patient_name,this.ambulanceCallList=l.ambulanceCallList):(this.dialogTitle="Add Ambulance Call",this.ambulanceCallList=new I({})),this.ambulanceCallListForm=this.createContactForm()}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("email")?"Not a valid email":""}createContactForm(){return this.fb.group({id:[this.ambulanceCallList.id],case_no:[this.ambulanceCallList.case_no],patient_name:[this.ambulanceCallList.patient_name],gender:[this.ambulanceCallList.gender],date:[(0,c.p6)(this.ambulanceCallList.date,"yyyy-MM-dd","en"),[u.kI.required]],vehicle_no:[this.ambulanceCallList.vehicle_no],driver_name:[this.ambulanceCallList.driver_name],driver_no:[this.ambulanceCallList.driver_no],patient_address:[this.ambulanceCallList.patient_address],note:[this.ambulanceCallList.note]})}submit(){}onNoClick(){this.dialogRef.close()}confirmAdd(){this.ambulanceCallListService.addAmbulanceCallList(this.ambulanceCallListForm.getRawValue())}static#e=this.\u0275fac=function(l){return new(l||t)(e.Y36(p.so),e.Y36(p.WI),e.Y36(C),e.Y36(u.QS))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-form-dialog",5,"a"]],decls:89,vars:13,consts:[[1,"addContainer"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],[1,"modal-about"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"register-form","m-4",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","case_no","required",""],["matSuffix","",1,"material-icons-two-tone","color-icon","p-3"],[4,"ngIf"],["matInput","","formControlName","patient_name","required",""],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],[1,"m-b-20"],[1,"msr-3"],["aria-label","Select gender","formControlName","gender","required",""],["value","Male"],["value","Female"],["value","Other"],["matInput","","formControlName","date",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","vehicle_no","required",""],["matInput","","formControlName","driver_name"],["matInput","","formControlName","driver_no","type","number"],["matInput","","formControlName","patient_address"],[1,"example-button-row"],["mat-raised-button","","color","primary",3,"disabled","mat-dialog-close","click"],["mat-raised-button","","color","warn","tabindex","-1",3,"click"]],template:function(l,i){if(1&l&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._uU(5),e.qZA()()(),e.TgZ(6,"button",5),e.NdJ("click",function(){return i.dialogRef.close()}),e.TgZ(7,"mat-icon"),e._uU(8,"close"),e.qZA()()(),e.TgZ(9,"div",6)(10,"form",7),e.NdJ("ngSubmit",function(){return i.submit}),e.TgZ(11,"div",8)(12,"div",9)(13,"mat-form-field",10)(14,"mat-label"),e._uU(15,"Case No"),e.qZA(),e._UZ(16,"input",11),e.TgZ(17,"mat-icon",12),e._uU(18,"receipt"),e.qZA(),e.YNc(19,Q,2,0,"mat-error",13),e.qZA()(),e.TgZ(20,"div",9)(21,"mat-form-field",10)(22,"mat-label"),e._uU(23,"Patient Name"),e.qZA(),e._UZ(24,"input",14),e.TgZ(25,"mat-icon",12),e._uU(26,"account_circle"),e.qZA(),e.YNc(27,E,2,0,"mat-error",13),e.qZA()()(),e.TgZ(28,"div",8)(29,"div",15)(30,"div",16)(31,"mat-label",17),e._uU(32,"Gender:"),e.qZA(),e.TgZ(33,"mat-radio-group",18)(34,"mat-radio-button",19),e._uU(35,"Male"),e.qZA(),e.TgZ(36,"mat-radio-button",20),e._uU(37,"Female"),e.qZA(),e.TgZ(38,"mat-radio-button",21),e._uU(39,"Other"),e.qZA(),e.YNc(40,M,2,0,"mat-error",13),e.qZA()()()(),e.TgZ(41,"div",8)(42,"div",9)(43,"mat-form-field",10)(44,"mat-label"),e._uU(45,"Date"),e.qZA(),e._UZ(46,"input",22)(47,"mat-datepicker-toggle",23)(48,"mat-datepicker",null,24),e.YNc(50,O,2,0,"mat-error",13),e.qZA()(),e.TgZ(51,"div",9)(52,"mat-form-field",10)(53,"mat-label"),e._uU(54,"Vehicle No"),e.qZA(),e._UZ(55,"input",25),e.TgZ(56,"mat-icon",12),e._uU(57,"airport_shuttle"),e.qZA(),e.YNc(58,B,2,0,"mat-error",13),e.qZA()()(),e.TgZ(59,"div",8)(60,"div",9)(61,"mat-form-field",10)(62,"mat-label"),e._uU(63,"Driver Name"),e.qZA(),e._UZ(64,"input",26),e.TgZ(65,"mat-icon",12),e._uU(66,"account_circle"),e.qZA(),e.YNc(67,P,2,0,"mat-error",13),e.qZA()(),e.TgZ(68,"div",9)(69,"mat-form-field",10)(70,"mat-label"),e._uU(71,"Driver No"),e.qZA(),e._UZ(72,"input",27),e.TgZ(73,"mat-icon",12),e._uU(74,"phone"),e.qZA(),e.YNc(75,G,2,0,"mat-error",13),e.qZA()()(),e.TgZ(76,"div",8)(77,"div",15)(78,"mat-form-field",10)(79,"mat-label"),e._uU(80,"Patient Address"),e.qZA(),e._UZ(81,"textarea",28),e.qZA()()(),e.TgZ(82,"div",8)(83,"div",15)(84,"div",29)(85,"button",30),e.NdJ("click",function(){return i.confirmAdd()}),e._uU(86,"Save"),e.qZA(),e.TgZ(87,"button",31),e.NdJ("click",function(){return i.onNoClick()}),e._uU(88,"Cancel"),e.qZA()()()()()()()),2&l){const o=e.MAs(49);let m,h,w,S,Y,ae,ie;e.xp6(5),e.hij(" ",i.dialogTitle," "),e.xp6(5),e.Q6J("formGroup",i.ambulanceCallListForm),e.xp6(9),e.Q6J("ngIf",null==(m=i.ambulanceCallListForm.get("case_no"))?null:m.hasError("required")),e.xp6(8),e.Q6J("ngIf",null==(h=i.ambulanceCallListForm.get("patient_name"))?null:h.hasError("required")),e.xp6(13),e.Q6J("ngIf",null==(w=i.ambulanceCallListForm.get("gender"))?null:w.hasError("required")),e.xp6(6),e.Q6J("matDatepicker",o),e.xp6(1),e.Q6J("for",o),e.xp6(3),e.Q6J("ngIf",null==(S=i.ambulanceCallListForm.get("date"))?null:S.hasError("required")),e.xp6(8),e.Q6J("ngIf",null==(Y=i.ambulanceCallListForm.get("vehicle_no"))?null:Y.hasError("required")),e.xp6(9),e.Q6J("ngIf",null==(ae=i.ambulanceCallListForm.get("driver_name"))?null:ae.hasError("required")),e.xp6(8),e.Q6J("ngIf",null==(ie=i.ambulanceCallListForm.get("driver_no"))?null:ie.hasError("required")),e.xp6(10),e.Q6J("disabled",!i.ambulanceCallListForm.valid)("mat-dialog-close",1)}},dependencies:[c.O5,u._Y,u.Fj,u.wV,u.JJ,u.JL,u.Q7,u.sg,u.u,x.lW,x.RK,y.Mq,y.hl,y.nW,p.ZT,p.xY,D.KE,D.hX,D.TO,D.R9,q.Hw,F.Nt,R.VQ,R.U0]})}return t})(),le=(()=>{class t{constructor(a,l,i){this.dialogRef=a,this.data=l,this.ambulanceCallListService=i}onNoClick(){this.dialogRef.close()}confirmDelete(){this.ambulanceCallListService.deleteAmbulanceCallList(this.data.id)}static#e=this.\u0275fac=function(l){return new(l||t)(e.Y36(p.so),e.Y36(p.WI),e.Y36(C))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-delete",5,"a"]],decls:25,vars:4,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"mat-dialog-close","click"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(l,i){1&l&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2,"Are you sure?"),e.qZA(),e.TgZ(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),e._uU(8," Patient Name: "),e.qZA(),e._uU(9),e.qZA()(),e.TgZ(10,"li")(11,"p")(12,"span",4),e._uU(13," Gender: "),e.qZA(),e._uU(14),e.qZA()(),e.TgZ(15,"li")(16,"p")(17,"span",4),e._uU(18,"Driver Name: "),e.qZA(),e._uU(19),e.qZA()()()(),e.TgZ(20,"div",5)(21,"button",6),e.NdJ("click",function(){return i.confirmDelete()}),e._uU(22," Delete "),e.qZA(),e.TgZ(23,"button",7),e.NdJ("click",function(){return i.onNoClick()}),e._uU(24,"Cancel"),e.qZA()()()),2&l&&(e.xp6(9),e.Oqu(i.data.patient_name),e.xp6(5),e.Oqu(i.data.gender),e.xp6(5),e.hij("",i.data.driver_name," "),e.xp6(2),e.Q6J("mat-dialog-close",1))},dependencies:[x.lW,p.ZT,p.uh,p.xY,p.H8]})}return t})();var U=r(2438),g=r(3019),j=r(7398),z=r(7884),V=r(2939),$=r(4414),K=r(5986),X=r(5940),H=r(3680),f=r(5313),W=r(2596),ee=r(9177);const ne=["filter"];function oe(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"mat-header-cell",55)(1,"mat-checkbox",56),e.NdJ("change",function(i){e.CHM(a);const o=e.oxw();return e.KtG(i?o.masterToggle():null)}),e.qZA()()}if(2&t){const a=e.oxw();e.Q6J("ngClass","tbl-col-width-per-6"),e.xp6(1),e.Q6J("checked",a.selection.hasValue()&&a.isAllSelected())("indeterminate",a.selection.hasValue()&&!a.isAllSelected())("ngClass","tbl-checkbox")}}function re(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"mat-cell",55)(1,"mat-checkbox",57),e.NdJ("click",function(i){return i.stopPropagation()})("change",function(i){const m=e.CHM(a).$implicit,h=e.oxw();return e.KtG(i?h.selection.toggle(m):null)}),e.qZA()()}if(2&t){const a=n.$implicit,l=e.oxw();e.Q6J("ngClass","tbl-col-width-per-6"),e.xp6(1),e.Q6J("checked",l.selection.isSelected(a))("ngClass","tbl-checkbox")}}function ce(t,n){1&t&&(e.TgZ(0,"mat-header-cell",58),e._uU(1,"Id"),e.qZA())}function se(t,n){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.id)}}function me(t,n){1&t&&(e.TgZ(0,"mat-header-cell",58),e._uU(1,"Case No"),e.qZA())}function de(t,n){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",59),e._uU(2,"Case No:"),e.qZA(),e._uU(3),e.qZA()),2&t){const a=n.$implicit;e.xp6(3),e.Oqu(a.case_no)}}function ue(t,n){1&t&&(e.TgZ(0,"mat-header-cell",58),e._uU(1,"Patient Name"),e.qZA())}function _e(t,n){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",59),e._uU(2,"Patient Name:"),e.qZA(),e._uU(3),e.qZA()),2&t){const a=n.$implicit;e.xp6(3),e.hij(" ",a.patient_name," ")}}function pe(t,n){1&t&&(e.TgZ(0,"mat-header-cell",58),e._uU(1," Gender "),e.qZA())}function he(t,n){if(1&t&&(e.TgZ(0,"div")(1,"span",62),e._uU(2),e.qZA()()),2&t){const a=e.oxw().$implicit;e.xp6(2),e.hij(" ",a.gender,"")}}function fe(t,n){if(1&t&&(e.TgZ(0,"div")(1,"span",63),e._uU(2),e.qZA()()),2&t){const a=e.oxw().$implicit;e.xp6(2),e.hij(" ",a.gender,"")}}function ge(t,n){if(1&t&&(e.TgZ(0,"div")(1,"span",64),e._uU(2),e.qZA()()),2&t){const a=e.oxw().$implicit;e.xp6(2),e.hij(" ",a.gender,"")}}function be(t,n){if(1&t&&(e.TgZ(0,"mat-cell",60)(1,"span",59),e._uU(2,"Gender:"),e.qZA(),e.YNc(3,he,3,1,"div",61),e.YNc(4,fe,3,1,"div",61),e.YNc(5,ge,3,1,"div",61),e.qZA()),2&t){const a=n.$implicit;e.xp6(3),e.Q6J("ngIf","Male"===a.gender),e.xp6(1),e.Q6J("ngIf","Female"===a.gender),e.xp6(1),e.Q6J("ngIf","Other"===a.gender)}}function Ce(t,n){1&t&&(e.TgZ(0,"mat-header-cell",58),e._uU(1,"Date"),e.qZA())}function ve(t,n){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",59),e._uU(2,"Date:"),e.qZA(),e._uU(3),e.ALo(4,"date"),e.qZA()),2&t){const a=n.$implicit;e.xp6(3),e.Oqu(e.xi3(4,1,a.date,"MM/dd/yyyy"))}}function Ze(t,n){1&t&&(e.TgZ(0,"mat-header-cell",58),e._uU(1,"Vehicle No"),e.qZA())}function Ae(t,n){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",59),e._uU(2,"Vehicle No:"),e.qZA(),e._uU(3),e.qZA()),2&t){const a=n.$implicit;e.xp6(3),e.hij(" ",a.vehicle_no," ")}}function Te(t,n){1&t&&(e.TgZ(0,"mat-header-cell",58),e._uU(1,"Driver Name"),e.qZA())}function xe(t,n){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",59),e._uU(2,"Driver Name:"),e.qZA(),e._uU(3),e.qZA()),2&t){const a=n.$implicit;e.xp6(3),e.hij("",a.driver_name," ")}}function De(t,n){1&t&&(e.TgZ(0,"mat-header-cell",58),e._uU(1,"Driver No"),e.qZA())}function Ne(t,n){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",59),e._uU(2,"Driver No:"),e.qZA(),e._uU(3),e.qZA()),2&t){const a=n.$implicit;e.xp6(3),e.hij(" ",a.driver_no," ")}}function Le(t,n){1&t&&(e.TgZ(0,"mat-header-cell",58),e._uU(1,"Patient Address"),e.qZA())}function Ue(t,n){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",65)(2,"span",59),e._uU(3,"Patient Address:"),e.qZA(),e._uU(4),e.qZA()()),2&t){const a=n.$implicit;e.xp6(4),e.Oqu(a.patient_address)}}function qe(t,n){1&t&&(e.TgZ(0,"mat-header-cell",66),e._uU(1,"Actions"),e.qZA())}function ye(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"mat-cell",66)(1,"button",67),e.NdJ("click",function(i){return i.stopPropagation()})("click",function(){const o=e.CHM(a).$implicit,m=e.oxw();return e.KtG(m.editCall(o))}),e._UZ(2,"app-feather-icons",68),e.qZA(),e.TgZ(3,"button",67),e.NdJ("click",function(i){return i.stopPropagation()})("click",function(){const o=e.CHM(a).$implicit,m=e.oxw();return e.KtG(m.deleteItem(o))}),e._UZ(4,"app-feather-icons",68),e.qZA()()}2&t&&(e.xp6(2),e.Tol("tbl-fav-edit"),e.Q6J("icon","edit"),e.xp6(2),e.Tol("tbl-fav-delete"),e.Q6J("icon","trash-2"))}function ke(t,n){1&t&&e._UZ(0,"mat-header-row")}function we(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"mat-row",69),e.NdJ("click",function(){const o=e.CHM(a).$implicit,m=e.oxw();return e.KtG(m.editCall(o))}),e.qZA()}2&t&&e.Udp("cursor","pointer")}function Se(t,n){1&t&&(e.TgZ(0,"div",70),e._UZ(1,"mat-progress-spinner",71),e.qZA()),2&t&&(e.xp6(1),e.Q6J("diameter",40))}function Ye(t,n){if(1&t&&(e.TgZ(0,"div",72),e._uU(1," No results "),e.qZA()),2&t){const a=e.oxw();e.Udp("display",0===a.dataSource.renderedData.length?"":"none")}}const Je=function(){return["Ambulance"]},Ie=function(){return[5,10,25,100]};let Fe=(()=>{class t extends b.n{constructor(a,l,i,o){super(),this.httpClient=a,this.dialog=l,this.ambulanceCallListService=i,this.snackBar=o,this.displayedColumns=["select","case_no","patient_name","gender","date","vehicle_no","driver_name","driver_no","patient_address","actions"],this.selection=new v.Ov(!0,[])}ngOnInit(){this.loadData()}refresh(){this.loadData()}addNew(){let a;a="true"===localStorage.getItem("isRtl")?"rtl":"ltr";const l=this.dialog.open(s,{data:{ambulanceCallList:this.ambulanceCallList,action:"add"},direction:a});this.subs.sink=l.afterClosed().subscribe(i=>{1===i&&(this.exampleDatabase?.dataChange.value.unshift(this.ambulanceCallListService.getDialogData()),this.refreshTable(),this.showNotification("snackbar-success","Add Record Successfully...!!!","bottom","center"))})}editCall(a){let l;this.id=a.id,l="true"===localStorage.getItem("isRtl")?"rtl":"ltr";const i=this.dialog.open(s,{data:{ambulanceCallList:a,action:"edit"},direction:l});this.subs.sink=i.afterClosed().subscribe(o=>{if(1===o){const m=this.exampleDatabase?.dataChange.value.findIndex(h=>h.id===this.id);null!=m&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value[m]=this.ambulanceCallListService.getDialogData(),this.refreshTable(),this.showNotification("black","Edit Record Successfully...!!!","bottom","center"))}})}deleteItem(a){let l;this.id=a.id,l="true"===localStorage.getItem("isRtl")?"rtl":"ltr";const i=this.dialog.open(le,{data:a,direction:l});this.subs.sink=i.afterClosed().subscribe(o=>{if(1===o){const m=this.exampleDatabase?.dataChange.value.findIndex(h=>h.id===this.id);null!=m&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value.splice(m,1),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))}})}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}isAllSelected(){return this.selection.selected.length===this.dataSource.renderedData.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.renderedData.forEach(a=>this.selection.select(a))}removeSelectedRows(){const a=this.selection.selected.length;this.selection.selected.forEach(l=>{const i=this.dataSource.renderedData.findIndex(o=>o===l);this.exampleDatabase?.dataChange.value.splice(i,1),this.refreshTable(),this.selection=new v.Ov(!0,[])}),this.showNotification("snackbar-danger",a+" Record Delete Successfully...!!!","bottom","center")}loadData(){this.exampleDatabase=new C(this.httpClient),this.dataSource=new Re(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=(0,U.R)(this.filter?.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter?.nativeElement.value)})}exportExcel(){const a=this.dataSource.filteredData.map(l=>({"Case No":l.case_no,"Patient Name":l.patient_name,Gender:l.gender,Date:(0,c.p6)(new Date(l.date),"yyyy-MM-dd","en")||"","Vehicle No":l.vehicle_no,"Driver Name":l.driver_name,"Driver No":l.driver_no,"Patient Address":l.patient_address}));z.c.exportToExcel(a,"excel")}showNotification(a,l,i,o){this.snackBar.open(l,"",{duration:2e3,verticalPosition:i,horizontalPosition:o,panelClass:a})}static#e=this.\u0275fac=function(l){return new(l||t)(e.Y36(_.eN),e.Y36(p.uw),e.Y36(C),e.Y36(V.ux))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-ambulance-call-list"]],viewQuery:function(l,i){if(1&l&&(e.Gf(T.NW,7),e.Gf(Z.YE,7),e.Gf(ne,7)),2&l){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first),e.iGM(o=e.CRH())&&(i.filter=o.first)}},features:[e.qOj],decls:82,vars:15,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],["filter",""],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],["matTooltip","ADD",1,"m-l-10"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],["matTooltip","REFRESH",1,"m-l-10"],["matTooltip","DELETE",1,"m-l-10",3,"hidden"],["mat-mini-fab","","color","warn",3,"click"],["matTooltip","XLSX",1,"export-button","m-l-10"],["src","assets/images/icons/xlsx.png","alt","",3,"click"],[1,"body","overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell",3,"dataSource"],["table",""],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","case_no"],["matColumnDef","patient_name"],["matColumnDef","gender"],["mat-cell","",4,"matCellDef"],["matColumnDef","date"],["matColumnDef","vehicle_no"],["matColumnDef","driver_name"],["matColumnDef","driver_no"],["matColumnDef","patient_address"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],["class","tbl-spinner",4,"ngIf"],["class","no-results",3,"display",4,"ngIf"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],[3,"ngClass"],[3,"checked","indeterminate","ngClass","change"],[3,"checked","ngClass","click","change"],["mat-sort-header",""],[1,"mobile-label"],["mat-cell",""],[4,"ngIf"],[1,"badge","badge-solid-green"],[1,"badge","badge-solid-orange"],[1,"badge","badge-solid-purple"],[1,"truncate-text"],[1,"pr-0"],["mat-icon-button","",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],[1,"tbl-spinner"],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(l,i){1&l&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"ul",9)(10,"li",10)(11,"h2"),e._uU(12,"Call List"),e.qZA()(),e.TgZ(13,"li",11)(14,"label",12)(15,"i",13),e._uU(16,"search"),e.qZA()(),e._UZ(17,"input",14,15),e.qZA()()(),e.TgZ(19,"div",16)(20,"ul",17)(21,"li",18)(22,"div",19)(23,"button",20),e.NdJ("click",function(){return i.addNew()}),e.TgZ(24,"mat-icon",21),e._uU(25,"add"),e.qZA()()()(),e.TgZ(26,"li",18)(27,"div",22)(28,"button",20),e.NdJ("click",function(){return i.refresh()}),e.TgZ(29,"mat-icon",21),e._uU(30,"refresh"),e.qZA()()()(),e.TgZ(31,"li",18)(32,"div",23)(33,"button",24),e.NdJ("click",function(){return i.removeSelectedRows()}),e.TgZ(34,"mat-icon",21),e._uU(35,"delete "),e.qZA()()()(),e.TgZ(36,"li")(37,"div",25)(38,"img",26),e.NdJ("click",function(){return i.exportExcel()}),e.qZA()()()()()(),e.TgZ(39,"div",27)(40,"div",28)(41,"table",29,30),e.ynx(43,31),e.YNc(44,oe,2,4,"mat-header-cell",32),e.YNc(45,re,2,3,"mat-cell",33),e.BQk(),e.ynx(46,34),e.YNc(47,ce,2,0,"mat-header-cell",35),e.YNc(48,se,2,1,"mat-cell",36),e.BQk(),e.ynx(49,37),e.YNc(50,me,2,0,"mat-header-cell",35),e.YNc(51,de,4,1,"mat-cell",36),e.BQk(),e.ynx(52,38),e.YNc(53,ue,2,0,"mat-header-cell",35),e.YNc(54,_e,4,1,"mat-cell",36),e.BQk(),e.ynx(55,39),e.YNc(56,pe,2,0,"mat-header-cell",35),e.YNc(57,be,6,3,"mat-cell",40),e.BQk(),e.ynx(58,41),e.YNc(59,Ce,2,0,"mat-header-cell",35),e.YNc(60,ve,5,4,"mat-cell",36),e.BQk(),e.ynx(61,42),e.YNc(62,Ze,2,0,"mat-header-cell",35),e.YNc(63,Ae,4,1,"mat-cell",36),e.BQk(),e.ynx(64,43),e.YNc(65,Te,2,0,"mat-header-cell",35),e.YNc(66,xe,4,1,"mat-cell",36),e.BQk(),e.ynx(67,44),e.YNc(68,De,2,0,"mat-header-cell",35),e.YNc(69,Ne,4,1,"mat-cell",36),e.BQk(),e.ynx(70,45),e.YNc(71,Le,2,0,"mat-header-cell",35),e.YNc(72,Ue,5,1,"mat-cell",36),e.BQk(),e.ynx(73,46),e.YNc(74,qe,2,0,"mat-header-cell",47),e.YNc(75,ye,5,6,"mat-cell",48),e.BQk(),e.YNc(76,ke,1,0,"mat-header-row",49),e.YNc(77,we,1,2,"mat-row",50),e.qZA(),e.YNc(78,Se,2,1,"div",51),e.YNc(79,Ye,2,2,"div",52),e._UZ(80,"mat-paginator",53,54),e.qZA()()()()()()()),2&l&&(e.xp6(3),e.Q6J("title","Call List")("items",e.DdM(13,Je))("active_item","Call List"),e.xp6(29),e.Q6J("hidden",!i.selection.hasValue()),e.xp6(9),e.Q6J("dataSource",i.dataSource),e.xp6(35),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("ngIf",null==i.exampleDatabase?null:i.exampleDatabase.isTblLoading),e.xp6(1),e.Q6J("ngIf",!(null!=i.exampleDatabase&&i.exampleDatabase.isTblLoading)),e.xp6(1),e.Q6J("length",i.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",e.DdM(14,Ie)))},dependencies:[c.mk,c.O5,$.L,x.RK,x.nh,K.oG,q.Hw,T.NW,X.Ou,H.wG,Z.YE,Z.nU,f.BZ,f.fO,f.as,f.w1,f.Dz,f.nj,f.ge,f.ev,f.XQ,f.Gk,W.gM,ee.A,c.uU]})}return t})();class Re extends v.o2{get filter(){return this.filterChange.value}set filter(n){this.filterChange.next(n)}constructor(n,a,l){super(),this.exampleDatabase=n,this.paginator=a,this._sort=l,this.filterChange=new d.X(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){const n=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllAmbulanceCallLists(),(0,g.T)(...n).pipe((0,j.U)(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(i=>-1!==(i.case_no+i.patient_name+i.gender+i.date+i.vehicle_no+i.driver_name+i.patient_address+i.driver_no).toLowerCase().indexOf(this.filter.toLowerCase()));const a=this.sortData(this.filteredData.slice());return this.renderedData=a.splice(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(n){return this._sort.active&&""!==this._sort.direction?n.sort((a,l)=>{let i="",o="";switch(this._sort.active){case"id":[i,o]=[a.id,l.id];break;case"case_no":[i,o]=[a.case_no,l.case_no];break;case"patient_name":[i,o]=[a.patient_name,l.patient_name];break;case"gender":[i,o]=[a.gender,l.gender];break;case"date":[i,o]=[a.date,l.date];break;case"vehicle_no":[i,o]=[a.vehicle_no,l.vehicle_no];break;case"driver_name":[i,o]=[a.driver_name,l.driver_name];break;case"driver_no":[i,o]=[a.driver_no,l.driver_no];break;case"patient_address":[i,o]=[a.patient_address,l.patient_address]}return((isNaN(+i)?i:+i)<(isNaN(+o)?o:+o)?-1:1)*("asc"===this._sort.direction?1:-1)}):n}}let k=(()=>{class t extends b.n{constructor(a){super(),this.httpClient=a,this.API_URL="assets/data/ambulanceList.json",this.isTblLoading=!0,this.dataChange=new d.X([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllAmbulanceLists(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:a=>{this.isTblLoading=!1,this.dataChange.next(a)},error:a=>{this.isTblLoading=!1,console.log(a.name+" "+a.message)}})}addAmbulanceList(a){this.dialogData=a}updateAmbulanceList(a){this.dialogData=a}deleteAmbulanceList(a){console.log(a)}static#e=this.\u0275fac=function(l){return new(l||t)(e.LFG(_.eN))};static#t=this.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac})}return t})();class Qe{constructor(n){this.id=n.id||this.getRandomID(),this.vehicle_no=n.vehicle_no||"",this.vehicle_name=n.vehicle_name||"",this.year_made=n.year_made||"",this.driver_name=n.driver_name||"",this.driver_license_no=n.driver_license_no||"",this.driver_no=n.driver_no||"",this.vehicle_type=n.vehicle_type||"",this.note=n.note||""}getRandomID(){const n=()=>65536*(1+Math.random())|0;return n()+n()}}var Ee=r(8525);function Me(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Vehicle No is required "),e.qZA())}function Oe(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Vehicle Name is required "),e.qZA())}function Be(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Year Made is required "),e.qZA())}function Pe(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Driver Name is required "),e.qZA())}function Ge(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Driver License No is required "),e.qZA())}function He(t,n){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Driver No is required "),e.qZA())}let te=(()=>{class t{constructor(a,l,i,o){this.dialogRef=a,this.data=l,this.ambulanceListService=i,this.fb=o,this.formControl=new u.p4("",[u.kI.required]),this.action=l.action,"edit"===this.action?(this.dialogTitle=l.ambulanceList.vehicle_no,this.ambulanceList=l.ambulanceList):(this.dialogTitle="Add Ambulance Call",this.ambulanceList=new Qe({})),this.ambulanceListForm=this.createContactForm()}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("email")?"Not a valid email":""}createContactForm(){return this.fb.group({id:[this.ambulanceList.id],vehicle_no:[this.ambulanceList.vehicle_no],vehicle_name:[this.ambulanceList.vehicle_name],year_made:[this.ambulanceList.year_made],driver_name:[this.ambulanceList.driver_name],driver_license_no:[this.ambulanceList.driver_license_no],driver_no:[this.ambulanceList.driver_no],vehicle_type:[this.ambulanceList.vehicle_type],note:[this.ambulanceList.note]})}submit(){}onNoClick(){this.dialogRef.close()}confirmAdd(){this.ambulanceListService.addAmbulanceList(this.ambulanceListForm.getRawValue())}static#e=this.\u0275fac=function(l){return new(l||t)(e.Y36(p.so),e.Y36(p.WI),e.Y36(k),e.Y36(u.QS))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-form-dialog",5,"b"]],decls:79,vars:12,consts:[[1,"addContainer"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],[1,"modal-about"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"register-form","m-4",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","vehicle_no","required",""],["matSuffix","",1,"material-icons-two-tone","color-icon","p-3"],[4,"ngIf"],["matInput","","formControlName","vehicle_name","required",""],["matInput","","formControlName","year_made","type","number","required",""],["matInput","","formControlName","driver_name","required",""],["matInput","","formControlName","driver_license_no"],["matInput","","formControlName","driver_no","type","number"],["formControlName","vehicle_type","required",""],[3,"value"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],[1,"example-button-row"],["mat-raised-button","","color","primary",3,"disabled","mat-dialog-close","click"],["mat-raised-button","","color","warn","tabindex","-1",3,"click"]],template:function(l,i){if(1&l&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._uU(5),e.qZA()()(),e.TgZ(6,"button",5),e.NdJ("click",function(){return i.dialogRef.close()}),e.TgZ(7,"mat-icon"),e._uU(8,"close"),e.qZA()()(),e.TgZ(9,"div",6)(10,"form",7),e.NdJ("ngSubmit",function(){return i.submit}),e.TgZ(11,"div",8)(12,"div",9)(13,"mat-form-field",10)(14,"mat-label"),e._uU(15,"Vehicle No"),e.qZA(),e._UZ(16,"input",11),e.TgZ(17,"mat-icon",12),e._uU(18,"pin"),e.qZA(),e.YNc(19,Me,2,0,"mat-error",13),e.qZA()(),e.TgZ(20,"div",9)(21,"mat-form-field",10)(22,"mat-label"),e._uU(23,"Vehicle Name"),e.qZA(),e._UZ(24,"input",14),e.TgZ(25,"mat-icon",12),e._uU(26,"airport_shuttle"),e.qZA(),e.YNc(27,Oe,2,0,"mat-error",13),e.qZA()()(),e.TgZ(28,"div",8)(29,"div",9)(30,"mat-form-field",10)(31,"mat-label"),e._uU(32,"Year Made"),e.qZA(),e._UZ(33,"input",15),e.TgZ(34,"mat-icon",12),e._uU(35,"event_note"),e.qZA(),e.YNc(36,Be,2,0,"mat-error",13),e.qZA()(),e.TgZ(37,"div",9)(38,"mat-form-field",10)(39,"mat-label"),e._uU(40,"Driver Name"),e.qZA(),e._UZ(41,"input",16),e.TgZ(42,"mat-icon",12),e._uU(43,"account_circle"),e.qZA(),e.YNc(44,Pe,2,0,"mat-error",13),e.qZA()()(),e.TgZ(45,"div",8)(46,"div",9)(47,"mat-form-field",10)(48,"mat-label"),e._uU(49,"Driver License No"),e.qZA(),e._UZ(50,"input",17),e.TgZ(51,"mat-icon",12),e._uU(52,"credit_card"),e.qZA(),e.YNc(53,Ge,2,0,"mat-error",13),e.qZA()(),e.TgZ(54,"div",9)(55,"mat-form-field",10)(56,"mat-label"),e._uU(57,"Driver Contact No"),e.qZA(),e._UZ(58,"input",18),e.TgZ(59,"mat-icon",12),e._uU(60,"phone"),e.qZA(),e.YNc(61,He,2,0,"mat-error",13),e.qZA()()(),e.TgZ(62,"div",8)(63,"div",9)(64,"mat-form-field",10)(65,"mat-label"),e._uU(66,"Vehicle Type"),e.qZA(),e.TgZ(67,"mat-select",19)(68,"mat-option",20),e._uU(69," Owned "),e.qZA(),e.TgZ(70,"mat-option",20),e._uU(71," Contractual "),e.qZA()()()()(),e.TgZ(72,"div",8)(73,"div",21)(74,"div",22)(75,"button",23),e.NdJ("click",function(){return i.confirmAdd()}),e._uU(76,"Save"),e.qZA(),e.TgZ(77,"button",24),e.NdJ("click",function(){return i.onNoClick()}),e._uU(78,"Cancel"),e.qZA()()()()()()()),2&l){let o,m,h,w,S,Y;e.xp6(5),e.hij(" ",i.dialogTitle," "),e.xp6(5),e.Q6J("formGroup",i.ambulanceListForm),e.xp6(9),e.Q6J("ngIf",null==(o=i.ambulanceListForm.get("vehicle_no"))?null:o.hasError("required")),e.xp6(8),e.Q6J("ngIf",null==(m=i.ambulanceListForm.get("vehicle_name"))?null:m.hasError("required")),e.xp6(9),e.Q6J("ngIf",null==(h=i.ambulanceListForm.get("year_made"))?null:h.hasError("required")),e.xp6(8),e.Q6J("ngIf",null==(w=i.ambulanceListForm.get("driver_name"))?null:w.hasError("required")),e.xp6(9),e.Q6J("ngIf",null==(S=i.ambulanceListForm.get("driver_license_no"))?null:S.hasError("required")),e.xp6(8),e.Q6J("ngIf",null==(Y=i.ambulanceListForm.get("driver_no"))?null:Y.hasError("required")),e.xp6(7),e.Q6J("value","Owned"),e.xp6(2),e.Q6J("value","Contractual"),e.xp6(5),e.Q6J("disabled",!i.ambulanceListForm.valid)("mat-dialog-close",1)}},dependencies:[c.O5,u._Y,u.Fj,u.wV,u.JJ,u.JL,u.Q7,u.sg,u.u,H.ey,x.lW,x.RK,p.ZT,p.xY,D.KE,D.hX,D.TO,D.R9,q.Hw,F.Nt,Ee.gD]})}return t})(),je=(()=>{class t{constructor(a,l,i){this.dialogRef=a,this.data=l,this.ambulanceListService=i}onNoClick(){this.dialogRef.close()}confirmDelete(){this.ambulanceListService.deleteAmbulanceList(this.data.id)}static#e=this.\u0275fac=function(l){return new(l||t)(e.Y36(p.so),e.Y36(p.WI),e.Y36(k))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-delete",5,"b"]],decls:25,vars:4,consts:[[1,"container"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"clearfix"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"mat-dialog-close","click"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(l,i){1&l&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2,"Are you sure?"),e.qZA(),e.TgZ(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),e._uU(8," Vehicle No: "),e.qZA(),e._uU(9),e.qZA()(),e.TgZ(10,"li")(11,"p")(12,"span",4),e._uU(13," Vehicle Name: "),e.qZA(),e._uU(14),e.qZA()(),e.TgZ(15,"li")(16,"p")(17,"span",4),e._uU(18,"Driver Name: "),e.qZA(),e._uU(19),e.qZA()()()(),e.TgZ(20,"div",5)(21,"button",6),e.NdJ("click",function(){return i.confirmDelete()}),e._uU(22," Delete "),e.qZA(),e.TgZ(23,"button",7),e.NdJ("click",function(){return i.onNoClick()}),e._uU(24,"Cancel"),e.qZA()()()),2&l&&(e.xp6(9),e.Oqu(i.data.vehicle_no),e.xp6(5),e.Oqu(i.data.vehicle_name),e.xp6(5),e.hij("",i.data.driver_name," "),e.xp6(2),e.Q6J("mat-dialog-close",1))},dependencies:[x.lW,p.ZT,p.uh,p.xY,p.H8]})}return t})();const ze=["filter"];function Ve(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"mat-header-cell",53)(1,"mat-checkbox",54),e.NdJ("change",function(i){e.CHM(a);const o=e.oxw();return e.KtG(i?o.masterToggle():null)}),e.qZA()()}if(2&t){const a=e.oxw();e.Q6J("ngClass","tbl-col-width-per-6"),e.xp6(1),e.Q6J("checked",a.selection.hasValue()&&a.isAllSelected())("indeterminate",a.selection.hasValue()&&!a.isAllSelected())("ngClass","tbl-checkbox")}}function $e(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"mat-cell",53)(1,"mat-checkbox",55),e.NdJ("click",function(i){return i.stopPropagation()})("change",function(i){const m=e.CHM(a).$implicit,h=e.oxw();return e.KtG(i?h.selection.toggle(m):null)}),e.qZA()()}if(2&t){const a=n.$implicit,l=e.oxw();e.Q6J("ngClass","tbl-col-width-per-6"),e.xp6(1),e.Q6J("checked",l.selection.isSelected(a))("ngClass","tbl-checkbox")}}function Ke(t,n){1&t&&(e.TgZ(0,"mat-header-cell",56),e._uU(1,"Id"),e.qZA())}function Xe(t,n){if(1&t&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&t){const a=n.$implicit;e.xp6(1),e.Oqu(a.id)}}function We(t,n){1&t&&(e.TgZ(0,"mat-header-cell",56),e._uU(1,"Vehicle No"),e.qZA())}function et(t,n){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",57),e._uU(2,"Vehicle No:"),e.qZA(),e._uU(3),e.qZA()),2&t){const a=n.$implicit;e.xp6(3),e.hij(" ",a.vehicle_no," ")}}function tt(t,n){1&t&&(e.TgZ(0,"mat-header-cell",56),e._uU(1,"Vehicle Name"),e.qZA())}function at(t,n){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",57),e._uU(2,"Vehicle Name:"),e.qZA(),e._uU(3),e.qZA()),2&t){const a=n.$implicit;e.xp6(3),e.hij(" ",a.vehicle_name," ")}}function it(t,n){1&t&&(e.TgZ(0,"mat-header-cell",56),e._uU(1,"Year Made"),e.qZA())}function lt(t,n){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",57),e._uU(2,"Year Made:"),e.qZA(),e._uU(3),e.qZA()),2&t){const a=n.$implicit;e.xp6(3),e.hij(" ",a.year_made," ")}}function nt(t,n){1&t&&(e.TgZ(0,"mat-header-cell",56),e._uU(1,"Driver Name"),e.qZA())}function ot(t,n){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",57),e._uU(2,"Driver Name:"),e.qZA(),e._uU(3),e.qZA()),2&t){const a=n.$implicit;e.xp6(3),e.hij(" ",a.driver_name," ")}}function rt(t,n){1&t&&(e.TgZ(0,"mat-header-cell",56),e._uU(1,"Driver License No"),e.qZA())}function ct(t,n){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",57),e._uU(2,"Driver License No:"),e.qZA(),e._uU(3),e.qZA()),2&t){const a=n.$implicit;e.xp6(3),e.Oqu(a.driver_license_no)}}function st(t,n){1&t&&(e.TgZ(0,"mat-header-cell",56),e._uU(1,"Driver Contact No"),e.qZA())}function mt(t,n){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",57),e._uU(2,"Driver Contact No:"),e.qZA(),e._uU(3),e.qZA()),2&t){const a=n.$implicit;e.xp6(3),e.hij("",a.driver_no," ")}}function dt(t,n){1&t&&(e.TgZ(0,"mat-header-cell",56),e._uU(1,"Vehicle Type"),e.qZA())}function ut(t,n){if(1&t&&(e.TgZ(0,"mat-cell")(1,"span",58)(2,"span",57),e._uU(3,"Vehicle Type:"),e.qZA(),e._uU(4),e.qZA()()),2&t){const a=n.$implicit;e.xp6(4),e.Oqu(a.vehicle_type)}}function _t(t,n){1&t&&(e.TgZ(0,"mat-header-cell",59),e._uU(1,"Actions"),e.qZA())}function pt(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"mat-cell",59)(1,"button",60),e.NdJ("click",function(i){return i.stopPropagation()})("click",function(){const o=e.CHM(a).$implicit,m=e.oxw();return e.KtG(m.editCall(o))}),e._UZ(2,"app-feather-icons",61),e.qZA(),e.TgZ(3,"button",60),e.NdJ("click",function(i){return i.stopPropagation()})("click",function(){const o=e.CHM(a).$implicit,m=e.oxw();return e.KtG(m.deleteItem(o))}),e._UZ(4,"app-feather-icons",61),e.qZA()()}2&t&&(e.xp6(2),e.Tol("tbl-fav-edit"),e.Q6J("icon","edit"),e.xp6(2),e.Tol("tbl-fav-delete"),e.Q6J("icon","trash-2"))}function ht(t,n){1&t&&e._UZ(0,"mat-header-row")}function ft(t,n){if(1&t){const a=e.EpF();e.TgZ(0,"mat-row",62),e.NdJ("click",function(){const o=e.CHM(a).$implicit,m=e.oxw();return e.KtG(m.editCall(o))}),e.qZA()}2&t&&e.Udp("cursor","pointer")}function gt(t,n){1&t&&(e.TgZ(0,"div",63),e._UZ(1,"mat-progress-spinner",64),e.qZA()),2&t&&(e.xp6(1),e.Q6J("diameter",40))}function bt(t,n){if(1&t&&(e.TgZ(0,"div",65),e._uU(1," No results "),e.qZA()),2&t){const a=e.oxw();e.Udp("display",0===a.dataSource.renderedData.length?"":"none")}}const Ct=function(){return["Ambulance"]},vt=function(){return[5,10,25,100]};let Zt=(()=>{class t extends b.n{constructor(a,l,i,o){super(),this.httpClient=a,this.dialog=l,this.ambulanceListService=i,this.snackBar=o,this.displayedColumns=["select","vehicle_no","vehicle_name","year_made","driver_name","driver_license_no","driver_no","vehicle_type","actions"],this.selection=new v.Ov(!0,[])}ngOnInit(){this.loadData()}refresh(){this.loadData()}addNew(){let a;a="true"===localStorage.getItem("isRtl")?"rtl":"ltr";const l=this.dialog.open(te,{data:{ambulanceList:this.ambulanceList,action:"add"},direction:a});this.subs.sink=l.afterClosed().subscribe(i=>{1===i&&(this.exampleDatabase?.dataChange.value.unshift(this.ambulanceListService.getDialogData()),this.refreshTable(),this.showNotification("snackbar-success","Add Record Successfully...!!!","bottom","center"))})}editCall(a){let l;this.id=a.id,l="true"===localStorage.getItem("isRtl")?"rtl":"ltr";const i=this.dialog.open(te,{data:{ambulanceList:a,action:"edit"},direction:l});this.subs.sink=i.afterClosed().subscribe(o=>{if(1===o){const m=this.exampleDatabase?.dataChange.value.findIndex(h=>h.id===this.id);null!=m&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value[m]=this.ambulanceListService.getDialogData(),this.refreshTable(),this.showNotification("black","Edit Record Successfully...!!!","bottom","center"))}})}deleteItem(a){let l;this.id=a.id,l="true"===localStorage.getItem("isRtl")?"rtl":"ltr";const i=this.dialog.open(je,{data:a,direction:l});this.subs.sink=i.afterClosed().subscribe(o=>{if(1===o){const m=this.exampleDatabase?.dataChange.value.findIndex(h=>h.id===this.id);null!=m&&this.exampleDatabase&&(this.exampleDatabase.dataChange.value.splice(m,1),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))}})}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}isAllSelected(){return this.selection.selected.length===this.dataSource.renderedData.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.renderedData.forEach(a=>this.selection.select(a))}removeSelectedRows(){const a=this.selection.selected.length;this.selection.selected.forEach(l=>{const i=this.dataSource.renderedData.findIndex(o=>o===l);this.exampleDatabase?.dataChange.value.splice(i,1),this.refreshTable(),this.selection=new v.Ov(!0,[])}),this.showNotification("snackbar-danger",a+" Record Delete Successfully...!!!","bottom","center")}loadData(){this.exampleDatabase=new k(this.httpClient),this.dataSource=new At(this.exampleDatabase,this.paginator,this.sort),this.subs.sink=(0,U.R)(this.filter?.nativeElement,"keyup").subscribe(()=>{this.dataSource&&(this.dataSource.filter=this.filter?.nativeElement.value)})}exportExcel(){const a=this.dataSource.filteredData.map(l=>({"Vehicle No":l.vehicle_no,"Vehicle Name":l.vehicle_name,"Year Made":l.year_made,"Driver Name":l.driver_name,"Driver License No":l.driver_license_no,"Driver No":l.driver_no,"Vehicle Type":l.vehicle_type}));z.c.exportToExcel(a,"excel")}showNotification(a,l,i,o){this.snackBar.open(l,"",{duration:2e3,verticalPosition:i,horizontalPosition:o,panelClass:a})}static#e=this.\u0275fac=function(l){return new(l||t)(e.Y36(_.eN),e.Y36(p.uw),e.Y36(k),e.Y36(V.ux))};static#t=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-ambulance-list"]],viewQuery:function(l,i){if(1&l&&(e.Gf(T.NW,7),e.Gf(Z.YE,7),e.Gf(ze,7)),2&l){let o;e.iGM(o=e.CRH())&&(i.paginator=o.first),e.iGM(o=e.CRH())&&(i.sort=o.first),e.iGM(o=e.CRH())&&(i.filter=o.first)}},features:[e.qOj],decls:79,vars:15,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"title","items","active_item"],[1,"row"],[1,"col-lg-12","col-md-12","col-sm-12","col-xs-12"],[1,"card"],[1,"materialTableHeader"],[1,"left"],[1,"header-buttons-left","ms-0"],[1,"tbl-title"],[1,"tbl-search-box"],["for","search-input"],[1,"material-icons","search-icon"],["placeholder","Search","type","text","aria-label","Search box",1,"browser-default","search-field"],["filter",""],[1,"right"],[1,"tbl-export-btn"],[1,"tbl-header-btn"],["matTooltip","ADD",1,"m-l-10"],["mat-mini-fab","","color","primary",3,"click"],[1,"col-white"],["matTooltip","REFRESH",1,"m-l-10"],["matTooltip","DELETE",1,"m-l-10",3,"hidden"],["mat-mini-fab","","color","warn",3,"click"],["matTooltip","XLSX",1,"export-button","m-l-10"],["src","assets/images/icons/xlsx.png","alt","",3,"click"],[1,"body","overflow-auto"],[1,"responsive_table"],["matSort","",1,"mat-cell",3,"dataSource"],["table",""],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","id"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","vehicle_no"],["matColumnDef","vehicle_name"],["matColumnDef","year_made"],["matColumnDef","driver_name"],["matColumnDef","driver_license_no"],["matColumnDef","driver_no"],["matColumnDef","vehicle_type"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],["class","tbl-spinner",4,"ngIf"],["class","no-results",3,"display",4,"ngIf"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["paginator",""],[3,"ngClass"],[3,"checked","indeterminate","ngClass","change"],[3,"checked","ngClass","click","change"],["mat-sort-header",""],[1,"mobile-label"],[1,"truncate-text"],[1,"pr-0"],["mat-icon-button","",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],[1,"tbl-spinner"],["color","primary","mode","indeterminate",3,"diameter"],[1,"no-results"]],template:function(l,i){1&l&&(e.TgZ(0,"section",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-breadcrumb",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"ul",9)(10,"li",10)(11,"h2"),e._uU(12,"Ambulance List"),e.qZA()(),e.TgZ(13,"li",11)(14,"label",12)(15,"i",13),e._uU(16,"search"),e.qZA()(),e._UZ(17,"input",14,15),e.qZA()()(),e.TgZ(19,"div",16)(20,"ul",17)(21,"li",18)(22,"div",19)(23,"button",20),e.NdJ("click",function(){return i.addNew()}),e.TgZ(24,"mat-icon",21),e._uU(25,"add"),e.qZA()()()(),e.TgZ(26,"li",18)(27,"div",22)(28,"button",20),e.NdJ("click",function(){return i.refresh()}),e.TgZ(29,"mat-icon",21),e._uU(30,"refresh"),e.qZA()()()(),e.TgZ(31,"li",18)(32,"div",23)(33,"button",24),e.NdJ("click",function(){return i.removeSelectedRows()}),e.TgZ(34,"mat-icon",21),e._uU(35,"delete "),e.qZA()()()(),e.TgZ(36,"li")(37,"div",25)(38,"img",26),e.NdJ("click",function(){return i.exportExcel()}),e.qZA()()()()()(),e.TgZ(39,"div",27)(40,"div",28)(41,"mat-table",29,30),e.ynx(43,31),e.YNc(44,Ve,2,4,"mat-header-cell",32),e.YNc(45,$e,2,3,"mat-cell",33),e.BQk(),e.ynx(46,34),e.YNc(47,Ke,2,0,"mat-header-cell",35),e.YNc(48,Xe,2,1,"mat-cell",36),e.BQk(),e.ynx(49,37),e.YNc(50,We,2,0,"mat-header-cell",35),e.YNc(51,et,4,1,"mat-cell",36),e.BQk(),e.ynx(52,38),e.YNc(53,tt,2,0,"mat-header-cell",35),e.YNc(54,at,4,1,"mat-cell",36),e.BQk(),e.ynx(55,39),e.YNc(56,it,2,0,"mat-header-cell",35),e.YNc(57,lt,4,1,"mat-cell",36),e.BQk(),e.ynx(58,40),e.YNc(59,nt,2,0,"mat-header-cell",35),e.YNc(60,ot,4,1,"mat-cell",36),e.BQk(),e.ynx(61,41),e.YNc(62,rt,2,0,"mat-header-cell",35),e.YNc(63,ct,4,1,"mat-cell",36),e.BQk(),e.ynx(64,42),e.YNc(65,st,2,0,"mat-header-cell",35),e.YNc(66,mt,4,1,"mat-cell",36),e.BQk(),e.ynx(67,43),e.YNc(68,dt,2,0,"mat-header-cell",35),e.YNc(69,ut,5,1,"mat-cell",36),e.BQk(),e.ynx(70,44),e.YNc(71,_t,2,0,"mat-header-cell",45),e.YNc(72,pt,5,6,"mat-cell",46),e.BQk(),e.YNc(73,ht,1,0,"mat-header-row",47),e.YNc(74,ft,1,2,"mat-row",48),e.qZA(),e.YNc(75,gt,2,1,"div",49),e.YNc(76,bt,2,2,"div",50),e._UZ(77,"mat-paginator",51,52),e.qZA()()()()()()()),2&l&&(e.xp6(3),e.Q6J("title","Ambulance List")("items",e.DdM(13,Ct))("active_item","List"),e.xp6(29),e.Q6J("hidden",!i.selection.hasValue()),e.xp6(9),e.Q6J("dataSource",i.dataSource),e.xp6(32),e.Q6J("matHeaderRowDef",i.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",i.displayedColumns),e.xp6(1),e.Q6J("ngIf",null==i.exampleDatabase?null:i.exampleDatabase.isTblLoading),e.xp6(1),e.Q6J("ngIf",!(null!=i.exampleDatabase&&i.exampleDatabase.isTblLoading)),e.xp6(1),e.Q6J("length",i.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",e.DdM(14,vt)))},dependencies:[c.mk,c.O5,$.L,x.RK,x.nh,K.oG,q.Hw,T.NW,X.Ou,H.wG,Z.YE,Z.nU,f.BZ,f.fO,f.as,f.w1,f.Dz,f.nj,f.ge,f.ev,f.XQ,f.Gk,W.gM,ee.A]})}return t})();class At extends v.o2{get filter(){return this.filterChange.value}set filter(n){this.filterChange.next(n)}constructor(n,a,l){super(),this.exampleDatabase=n,this.paginator=a,this._sort=l,this.filterChange=new d.X(""),this.filteredData=[],this.renderedData=[],this.filterChange.subscribe(()=>this.paginator.pageIndex=0)}connect(){const n=[this.exampleDatabase.dataChange,this._sort.sortChange,this.filterChange,this.paginator.page];return this.exampleDatabase.getAllAmbulanceLists(),(0,g.T)(...n).pipe((0,j.U)(()=>{this.filteredData=this.exampleDatabase.data.slice().filter(i=>-1!==(i.vehicle_no+i.vehicle_name+i.year_made+i.driver_name+i.driver_license_no+i.driver_no+i.vehicle_type).toLowerCase().indexOf(this.filter.toLowerCase()));const a=this.sortData(this.filteredData.slice());return this.renderedData=a.splice(this.paginator.pageIndex*this.paginator.pageSize,this.paginator.pageSize),this.renderedData}))}disconnect(){}sortData(n){return this._sort.active&&""!==this._sort.direction?n.sort((a,l)=>{let i="",o="";switch(this._sort.active){case"id":[i,o]=[a.id,l.id];break;case"vehicle_no":[i,o]=[a.vehicle_no,l.vehicle_no];break;case"vehicle_name":[i,o]=[a.vehicle_name,l.vehicle_name];break;case"year_made":[i,o]=[a.year_made,l.year_made];break;case"driver_name":[i,o]=[a.driver_name,l.driver_name];break;case"driver_license_no":[i,o]=[a.driver_license_no,l.driver_license_no];break;case"driver_no":[i,o]=[a.driver_no,l.driver_no];break;case"vehicle_type":[i,o]=[a.vehicle_type,l.vehicle_type]}return((isNaN(+i)?i:+i)<(isNaN(+o)?o:+o)?-1:1)*("asc"===this._sort.direction?1:-1)}):n}}const Tt=[{path:"call-list",component:Fe},{path:"list",component:Zt},{path:"**",component:A.J}];let xt=(()=>{class t{static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275mod=e.oAB({type:t});static#a=this.\u0275inj=e.cJS({imports:[L.Bz.forChild(Tt),L.Bz]})}return t})();var Dt=r(3140),Nt=r(6208);let Lt=(()=>{class t{static#e=this.\u0275fac=function(l){return new(l||t)};static#t=this.\u0275mod=e.oAB({type:t});static#a=this.\u0275inj=e.cJS({providers:[C,k],imports:[c.ez,xt,u.u5,u.UX,Dt.K,Nt.m]})}return t})()},4414:(J,N,r)=>{r.d(N,{L:()=>e});var c=r(5879),L=r(6814),A=r(1896),d=r(9101);function b(_,C){if(1&_&&(c.TgZ(0,"li",9),c._uU(1),c.qZA()),2&_){const T=C.$implicit;c.xp6(1),c.Oqu(T)}}let e=(()=>{class _{constructor(){}static#e=this.\u0275fac=function(Z){return new(Z||_)};static#t=this.\u0275cmp=c.Xpm({type:_,selectors:[["app-breadcrumb"]],inputs:{title:"title",items:"items",active_item:"active_item"},decls:12,vars:4,consts:[[1,"row"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"breadcrumb"],[1,"page-title"],[1,"breadcrumb-item","bcrumb-1"],[3,"routerLink"],["name","home",1,"breadcrumb-icon"],["class","breadcrumb-item",4,"ngFor","ngForOf"],[1,"breadcrumb-item","active"],[1,"breadcrumb-item"]],template:function(Z,v){1&Z&&(c.TgZ(0,"div",0)(1,"div",1)(2,"ul",2)(3,"li")(4,"h4",3),c._uU(5),c.qZA()(),c.TgZ(6,"li",4)(7,"a",5),c._UZ(8,"i-feather",6),c.qZA()(),c.YNc(9,b,2,1,"li",7),c.TgZ(10,"li",8),c._uU(11),c.qZA()()()()),2&Z&&(c.xp6(5),c.Oqu(v.title),c.xp6(2),c.Q6J("routerLink","/admin/dashboard/main"),c.xp6(2),c.Q6J("ngForOf",v.items),c.xp6(2),c.Oqu(v.active_item))},dependencies:[L.sg,A.rH,d.u]})}return _})()},3140:(J,N,r)=>{r.d(N,{K:()=>G});var c=r(6814),L=r(9101),A=r(1896),d=r(5879);let b=(()=>{class s{static#e=this.\u0275fac=function(g){return new(g||s)};static#t=this.\u0275mod=d.oAB({type:s});static#a=this.\u0275inj=d.cJS({imports:[c.ez,A.Bz,L.p]})}return s})();var e=r(6213),_=r(617),C=r(2296),T=r(1464),Z=r(8875);let v=(()=>{class s{static#e=this.\u0275fac=function(g){return new(g||s)};static#t=this.\u0275mod=d.oAB({type:s});static#a=this.\u0275inj=d.cJS({providers:[T.R,Z.G],imports:[c.ez]})}return s})();var p=r(4170),u=r(6223),I=r(2032),x=r(1476),y=r(2599);let D=(()=>{class s{static#e=this.\u0275fac=function(g){return new(g||s)};static#t=this.\u0275mod=d.oAB({type:s});static#a=this.\u0275inj=d.cJS({imports:[c.ez,e.u,_.Ps,y.rP,x.TU,C.ot,p.lN,_.Ps,I.c,u.UX,v]})}return s})();var q=r(9347);let F=(()=>{class s{static#e=this.\u0275fac=function(g){return new(g||s)};static#t=this.\u0275mod=d.oAB({type:s});static#a=this.\u0275inj=d.cJS({imports:[c.ez,v]})}return s})(),R=(()=>{class s{static#e=this.\u0275fac=function(g){return new(g||s)};static#t=this.\u0275mod=d.oAB({type:s});static#a=this.\u0275inj=d.cJS({imports:[c.ez,b,_.Ps,D,C.ot,q.Is,F,v]})}return s})();var Q=r(4630),E=r(8525);let M=(()=>{class s{static#e=this.\u0275fac=function(g){return new(g||s)};static#t=this.\u0275mod=d.oAB({type:s});static#a=this.\u0275inj=d.cJS({imports:[c.ez,u.u5,u.UX,_.Ps,E.LD,I.c,C.ot,p.lN,Q.Bb]})}return s})();var O=r(8257),B=r(5195);let P=(()=>{class s{static#e=this.\u0275fac=function(g){return new(g||s)};static#t=this.\u0275mod=d.oAB({type:s});static#a=this.\u0275inj=d.cJS({imports:[c.ez,O.T5,B.QW]})}return s})(),G=(()=>{class s{static#e=this.\u0275fac=function(g){return new(g||s)};static#t=this.\u0275mod=d.oAB({type:s});static#a=this.\u0275inj=d.cJS({imports:[b,D,R,M,P]})}return s})()},1464:(J,N,r)=>{r.d(N,{R:()=>L});var c=r(5879);let L=(()=>{class d{transform(e,_){return"date"===_?new Date(e).toLocaleDateString():"uuid"===_?e.slice(0,8):"badge"===_?`<span class="badge ${!0===e?"col-green":"col-orange"}">Activo</span>`:e}static#e=this.\u0275fac=function(_){return new(_||d)};static#t=this.\u0275pipe=c.Yjl({name:"mapping",type:d,pure:!0})}return d})()},8875:(J,N,r)=>{r.d(N,{G:()=>L});var c=r(5879);let L=(()=>{class A{transform(b,e,_){return b?e&&0!=e.length&&0!=_.length?(e=e.toLocaleLowerCase(),b.filter(C=>Array.isArray(_)?_.some(T=>String(C[T])?.toLocaleLowerCase().includes(e)):C[_].toLocaleLowerCase().includes(e))):b:[]}static#e=this.\u0275fac=function(e){return new(e||A)};static#t=this.\u0275pipe=c.Yjl({name:"searchFilter",type:A,pure:!0})}return A})()}}]);