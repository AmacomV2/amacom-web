"use strict";(self.webpackChunkamacom=self.webpackChunkamacom||[]).push([[690,75],{6690:(S,v,n)=>{n.r(v),n.d(v,{LogrosModule:()=>T});var e=n(6814),p=n(1896),f=n(2589),u=n(9347),t=n(5879);let m=(()=>{class o{constructor(r,a){this.dialogRef=r,this.data=a}onNoClick(){this.dialogRef.close()}confirmDelete(){}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(u.so),t.Y36(u.WI))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-delete-logro"]],decls:19,vars:3,consts:[[1,"clearfix"],[1,"font-weight-bold"]],template:function(a,h){1&a&&(t.TgZ(0,"ul",0)(1,"li")(2,"p")(3,"span",1)(4,"strong"),t._uU(5,"Nombre: "),t.qZA()(),t._uU(6),t.qZA()(),t.TgZ(7,"li")(8,"p")(9,"span",1)(10,"strong"),t._uU(11,"Descripcion: "),t.qZA()(),t._uU(12),t.qZA()(),t.TgZ(13,"li")(14,"p")(15,"span",1)(16,"strong"),t._uU(17,"Fecha: "),t.qZA()(),t._uU(18),t.qZA()()()),2&a&&(t.xp6(6),t.hij("",h.data.row.name," "),t.xp6(6),t.hij("",h.data.row.description," "),t.xp6(6),t.hij("",h.data.row.createdAt," "))}})}return o})();var s=n(6223),l=n(553),C=n(7398),E=n(5798),y=n(9862),A=n(4170),D=n(2032),U=n(5295);function I(o,B){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," El nombre es requerido "),t.qZA())}function b(o,B){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Descripcion es requerido "),t.qZA())}let O=(()=>{class o{constructor(r,a,h,L,P){this.dialogRef=r,this.pasoParametrosService=a,this.data=h,this.fb=L,this.http=P}ngOnInit(){this.action=this.data?.action,this.logro=this.data?.row,this.form=this.createContactForm(),this.getCurrentTema()}createContactForm(){return this.fb.group({id:[this.logro?.id],name:[this.logro?.name,s.kI.required],description:[this.logro?.description,s.kI.required],subjectId:[this.logro?.subjectId,s.kI.required]})}listTema(r){return this.http.get(l.N.apiUrl+"/subject/search",{params:{page:"0",size:"100",query:r}}).pipe((0,C.U)(a=>a.content))}getCurrentTema(){this.http.get(l.N.apiUrl+"/subject/"+this.logro?.subjectId).subscribe(r=>{this.valueSubject=r})}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(u.so),t.Y36(E.T),t.Y36(u.WI),t.Y36(s.QS),t.Y36(y.eN))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-add-material",5,"i"]],decls:16,vars:6,consts:[[1,"register-form","m-4",3,"formGroup"],[1,"row"],[1,"col-xl-12","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","name","required",""],[4,"ngIf"],["matInput","","formControlName","description","required",""],["key","name","keyValue","id","label","Tema padre","appearance","outline",3,"value","options","control"]],template:function(a,h){if(1&a&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"mat-form-field",3)(4,"mat-label"),t._uU(5,"Nombre"),t.qZA(),t._UZ(6,"input",4),t.YNc(7,I,2,0,"mat-error",5),t.qZA()(),t.TgZ(8,"div",2)(9,"mat-form-field",3)(10,"mat-label"),t._uU(11,"Descripcion"),t.qZA(),t._UZ(12,"input",6),t.YNc(13,b,2,0,"mat-error",5),t.qZA()(),t.TgZ(14,"div",1),t._UZ(15,"app-mat-select-complete",7),t.qZA()()()),2&a){let L,P;t.Q6J("formGroup",h.form),t.xp6(7),t.Q6J("ngIf",null==(L=h.form.get("name"))?null:L.hasError("required")),t.xp6(6),t.Q6J("ngIf",null==(P=h.form.get("description"))?null:P.hasError("required")),t.xp6(2),t.Q6J("value",h.valueSubject)("options",h.listTema)("control",h.form.get("subjectId"))}},dependencies:[e.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,A.KE,A.hX,A.TO,D.Nt,U.r]})}return o})();var Z=n(2939),F=n(4524);const M=[{path:"all-logros",component:(()=>{class o extends f.n{constructor(r,a,h,L,P){super(),this.httpClient=r,this.dialog=a,this.snackBar=h,this.router=L,this.pasoParametrosService=P,this.title="LOGROS",this.subtitle="En esta pantalla podr\xe1s visualizar los logros existentes",this.config={title:"Lista de logros",keys:["id","name","description","updatedAt"],headerColumns:["No","Nombre","Descripcion","\xfaltima actualizaci\xf3n"],urlData:l.N.apiUrl+"/achievement/search",typeColumns:["uuid",null,null,"date"],pageableOptions:{otherParams:{subjectId:null}},hideDefaultActions:{view:!0},pageable:!0,showFilter:!0},this.modalForm={edit:{modal:{title:"Editar Logro",component:O},actionType:"edit",urlEndpoint:"/achievement"},create:{modal:{title:"Agregar Logro",component:O},actionType:"add",urlEndpoint:"/achievement/create"},delete:{modal:{title:"\xbfEst\xe1 seguro de eliminar el logro?",component:m},actionType:"delete",urlEndpoint:"/achievement"},view:{actionType:"view"}}}ngOnInit(){this.config.pageableOptions.otherParams=null}refresh(){this.loadData()}addNew(){let r;r="true"===localStorage.getItem("isRtl")?"rtl":"ltr",this.dialog.open(O,{data:{action:"add"}})}loadData(){}static#t=this.\u0275fac=function(a){return new(a||o)(t.Y36(y.eN),t.Y36(u.uw),t.Y36(Z.ux),t.Y36(p.F0),t.Y36(E.T))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-alllogros"]],features:[t.qOj],decls:1,vars:5,consts:[[3,"title","subtitle","disableContainer","configTable","modalForm"]],template:function(a,h){1&a&&t._UZ(0,"app-crud-container",0),2&a&&t.Q6J("title",h.title)("subtitle",h.subtitle)("disableContainer",!1)("configTable",h.config)("modalForm",h.modalForm)},dependencies:[F._]})}return o})()}];let i=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(M),p.Bz]})}return o})();var c=n(6208),d=n(7075);let T=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=t.oAB({type:o});static#o=this.\u0275inj=t.cJS({imports:[e.ez,c.m,d.K,s.UX,i]})}return o})()},7075:(S,v,n)=>{n.d(v,{K:()=>T});var e=n(9941),p=n(6814),f=n(6213),u=n(617),t=n(2296),m=n(1464),s=n(8875),l=n(5879);let C=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=l.oAB({type:o});static#o=this.\u0275inj=l.cJS({providers:[m.R,s.G],imports:[p.ez]})}return o})();var E=n(4170),y=n(6223),A=n(2032),D=n(1476),U=n(2599);let I=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=l.oAB({type:o});static#o=this.\u0275inj=l.cJS({imports:[p.ez,f.u,u.Ps,U.rP,D.TU,t.ot,E.lN,u.Ps,A.c,y.UX,C]})}return o})();var b=n(9347);let O=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=l.oAB({type:o});static#o=this.\u0275inj=l.cJS({imports:[p.ez,C]})}return o})(),Z=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=l.oAB({type:o});static#o=this.\u0275inj=l.cJS({imports:[p.ez,e.w,u.Ps,I,t.ot,b.Is,O,C]})}return o})();var F=n(4630),g=n(8525);let M=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=l.oAB({type:o});static#o=this.\u0275inj=l.cJS({imports:[p.ez,y.u5,y.UX,u.Ps,g.LD,A.c,t.ot,E.lN,F.Bb]})}return o})();var i=n(8257),c=n(5195);let d=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=l.oAB({type:o});static#o=this.\u0275inj=l.cJS({imports:[p.ez,i.T5,c.QW]})}return o})(),T=(()=>{class o{static#t=this.\u0275fac=function(a){return new(a||o)};static#e=this.\u0275mod=l.oAB({type:o});static#o=this.\u0275inj=l.cJS({imports:[e.w,I,Z,M,d]})}return o})()},5295:(S,v,n)=>{n.d(v,{r:()=>F});var e=n(5879),p=n(6223),f=n(4170),u=n(5619),t=n(9397),m=n(2096),s=n(9862),l=n(6814),C=n(617),E=n(3680),y=n(2032),A=n(2296),D=n(4630);function U(g,M){if(1&g){const i=e.EpF();e.TgZ(0,"button",6),e.NdJ("click",function(d){e.CHM(i);const T=e.oxw();return e.KtG(T.limpiar(d))}),e.TgZ(1,"mat-icon"),e._uU(2,"close"),e.qZA()()}}function I(g,M){1&g&&(e.TgZ(0,"mat-option",7),e._uU(1," Buscando... "),e.qZA()),2&g&&e.Q6J("disabled",!0)}function b(g,M){if(1&g){const i=e.EpF();e.TgZ(0,"mat-option",8),e.NdJ("click",function(){const T=e.CHM(i).$implicit,o=e.oxw();return e.KtG(o.selecItem(T))}),e._uU(1),e.qZA()}if(2&g){const i=M.$implicit,c=e.oxw();e.Q6J("value",null===c.key?i:i[c.key]),e.xp6(1),e.hij(" ",null===c.key?i:i[c.key]," ")}}const O=[[["","matSuffix",""]],[["","hint",""]]],Z=["[matSuffix]","[hint]"];let F=(()=>{class g{set disabled(i){i?this.controlText.disable():this.controlText.enable()}set value(i){i&&i[this.key]&&(this.controlText.setValue(this.key?i[this.key]:i),this.control.setValue(this.keyValue?i[this.keyValue]:i))}constructor(i,c,d){this.http=i,this.optionsFormField=c,this.cdr=d,this.key=null,this.keyValue=null,this.appearance=null,this.required=!1,this.clearButton=!1,this.selectedChange=new e.vpe,this.focus=new e.vpe,this.busquedaChange=new e.vpe,this.controlText=new p.NI(""),this.searching=!1,this.doneTypingInterval=350,this.changeFilterOptionsSubject=new u.X([]),c&&(this.appearance=c.appearance)}ngOnInit(){this.filteredOptions=this.changeFilterOptionsSubject.asObservable(),this.controlText.valueChanges.subscribe(i=>{this.loadOptions(i)}),this.controlText.setValue(this.value),this.control||(console.log("no se asigno control"),this.control=new p.NI(""))}loadOptions(i){this.busquedaChange.emit(i),this.subscritionList&&this.subscritionList.unsubscribe(),clearTimeout(this.typingTimer),this.typingTimer=setTimeout(()=>{this.searching=!0,this.subscritionList=this._filter(i||"").pipe((0,t.b)(c=>{this.searching=!1})).subscribe(c=>{this.changeFilterOptionsSubject.next(c)})},this.doneTypingInterval)}_filter(i){const c=i.toLowerCase();return this.options instanceof Function?this.options(i):(0,m.of)(this.options.filter(d=>"string"==typeof d?d.toLowerCase().includes(c):d[this.key].toLowerCase().includes(c)))}handleInput(){}selecItem(i){console.log(i,this.keyValue),this.control.setValue(this.keyValue?i[this.keyValue]:i)}filterList(i){}limpiar(i){i?.stopImmediatePropagation(),this.controlText.setValue(null),this.control.setValue(null),this.selectedChange?.emit(null)}ngOnDestroy(){this.subscritionList?.unsubscribe()}static#t=this.\u0275fac=function(c){return new(c||g)(e.Y36(s.eN),e.Y36(f.o2,8),e.Y36(e.sBO))};static#e=this.\u0275cmp=e.Xpm({type:g,selectors:[["app-mat-select-complete"]],inputs:{key:"key",keyValue:"keyValue",label:"label",placeholder:"placeholder",appearance:"appearance",control:"control",required:"required",disabled:"disabled",value:"value",clearButton:"clearButton",options:"options",doneTypingInterval:"doneTypingInterval"},outputs:{selectedChange:"selectedChange",focus:"focus",busquedaChange:"busquedaChange"},ngContentSelectors:Z,decls:13,vars:10,consts:[[1,"full-width",3,"appearance"],["matInput","","type","text",3,"placeholder","formControl","matAutocomplete"],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],["auto","matAutocomplete"],[3,"disabled",4,"ngIf"],[3,"value","click",4,"ngFor","ngForOf"],["matSuffix","","mat-icon-button","",3,"click"],[3,"disabled"],[3,"value","click"]],template:function(c,d){if(1&c&&(e.F$t(O),e.TgZ(0,"mat-form-field",0)(1,"mat-label"),e._uU(2),e.qZA(),e._UZ(3,"input",1),e.YNc(4,U,3,0,"button",2),e.TgZ(5,"mat-autocomplete",null,3),e.YNc(7,I,2,1,"mat-option",4),e.YNc(8,b,2,2,"mat-option",5),e.ALo(9,"async"),e.qZA(),e.Hsn(10),e.TgZ(11,"mat-hint"),e.Hsn(12,1),e.qZA()()),2&c){const T=e.MAs(6);e.Q6J("appearance",d.appearance),e.xp6(2),e.Oqu(d.label),e.xp6(1),e.Q6J("placeholder",d.placeholder)("formControl",d.controlText)("matAutocomplete",T),e.xp6(1),e.Q6J("ngIf",d.clearButton),e.xp6(3),e.Q6J("ngIf",d.searching),e.xp6(1),e.Q6J("ngForOf",e.lcZ(9,8,d.filteredOptions))}},dependencies:[l.sg,l.O5,p.Fj,p.JJ,p.oH,C.Hw,f.KE,f.hX,f.bx,f.R9,E.ey,y.Nt,A.RK,D.XC,D.ZL,l.Ov],styles:[".full-width[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]     .mat-form-field-infix{display:flex}.compact[_ngcontent-%COMP%]     .mat-form-field-infix{padding:4px 0}"]})}return g})()},1464:(S,v,n)=>{n.d(v,{R:()=>p});var e=n(5879);let p=(()=>{class u{transform(m,s){return"date"===s?new Date(m).toLocaleDateString():"uuid"===s?m.slice(0,8):"badge"===s?`<span class="badge ${!0===m?"col-green":"col-orange"}">\n        ${!0===m?"Activo":"Inactivo"}\n      </span>`:m}static#t=this.\u0275fac=function(s){return new(s||u)};static#e=this.\u0275pipe=e.Yjl({name:"mapping",type:u,pure:!0})}return u})()},8875:(S,v,n)=>{n.d(v,{G:()=>p});var e=n(5879);let p=(()=>{class f{transform(t,m,s){return t?m&&0!=m.length&&0!=s.length?(m=m.toLocaleLowerCase(),t.filter(l=>Array.isArray(s)?s.some(C=>String(l[C])?.toLocaleLowerCase().includes(m)):l[s].toLocaleLowerCase().includes(m))):t:[]}static#t=this.\u0275fac=function(m){return new(m||f)};static#e=this.\u0275pipe=e.Yjl({name:"searchFilter",type:f,pure:!0})}return f})()}}]);