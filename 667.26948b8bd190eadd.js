"use strict";(self.webpackChunkamacom=self.webpackChunkamacom||[]).push([[667],{9394:(P,D,e)=>{e.d(D,{l:()=>l});var h=e(5619),s=e(2589),t=e(5879),C=e(9862);let l=(()=>{class g extends s.n{constructor(c){super(),this.httpClient=c,this.API_URL="assets/data/itemStockList.json",this.isTblLoading=!0,this.dataChange=new h.X([])}get data(){return this.dataChange.value}getDialogData(){return this.dialogData}getAllItemStockLists(){this.subs.sink=this.httpClient.get(this.API_URL).subscribe({next:c=>{this.isTblLoading=!1,this.dataChange.next(c)},error:c=>{this.isTblLoading=!1,console.log(c.name+" "+c.message)}})}addItemStockList(c){this.dialogData=c}updateItemStockList(c){this.dialogData=c}deleteItemStockList(c){console.log(c)}static#t=this.\u0275fac=function(I){return new(I||g)(t.LFG(C.eN))};static#e=this.\u0275prov=t.Yz7({token:g,factory:g.\u0275fac})}return g})()},6246:(P,D,e)=>{e.d(D,{Z:()=>R});var h=e(2589),s=e(6223),t=e(5879),C=e(9862),l=e(9347),g=e(2939),E=e(1896),c=e(6814),I=e(5798),S=e(553),U=e(9397);let L=(()=>{class u{constructor(f,m){this.http=f,this.snackbar=m,this.url=S.N.apiUrl}createBitacora(f){return this.http.post(`${this.url}/logBook/create`,f).pipe((0,U.b)(m=>{this.snackbar.open("Bitacora creada con \xe9xito")}))}updateBitacora(f){return this.http.put(`${this.url}/logBook`,f).pipe((0,U.b)(m=>{this.snackbar.open("Bitacora actualizada con \xe9xito")}))}static#t=this.\u0275fac=function(m){return new(m||u)(t.LFG(C.eN),t.LFG(g.ux))};static#e=this.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();var _=e(8319),B=e(2296),d=e(8034),n=e(4170),b=e(617),p=e(2032),y=e(2596);function O(u,Y){1&u&&(t.TgZ(0,"mat-error"),t._uU(1," El t\xedtulo es requerido "),t.qZA())}function N(u,Y){1&u&&(t.TgZ(0,"mat-error"),t._uU(1," La descripci\xf3n es requerida "),t.qZA())}let R=(()=>{class u extends h.n{constructor(f,m,v,A,x,F,o,T,a){super(),this.httpClient=f,this.dialog=m,this.snackBar=v,this.fb=A,this.router=x,this.location=F,this.pasoParametrosService=o,this.bitacoraService=T,this.auth=a,this.modoEditar=!1,this.title="Adicionar Bitacora",this.subtitle="En esta pantalla podr\xe1s adicionar una bitacora",this.data=this.pasoParametrosService.obtenerParametro("data"),this.modoEditar=this.pasoParametrosService.obtenerParametro("modoEditar")}ngOnInit(){this.modoEditar&&(this.title="Editar Bitacora",this.subtitle="En esta pantalla podr\xe1s editar la bitacora"),this.personId=this.pasoParametrosService.obtenerParametro("dataPersona")?.id??this.auth.currentUserValue.person.id,this.form=this.fb.group({id:[this.data?.id],name:[this.data?.name,[s.kI.required]],description:[this.data?.description,[s.kI.required]],personId:[this.data?.personId??this.personId],createdAt:[this.data?.createdAt??new Date]})}onSubmit(){(this.modoEditar?this.bitacoraService.updateBitacora(this.form.value):this.bitacoraService.createBitacora(this.form.value)).subscribe(m=>{console.log("BITACORA CREADA",m),this.form.controls.id.setValue(m.id),this.volver()})}cancelar(){this.volver()}volver(){this.location.back()}static#t=this.\u0275fac=function(m){return new(m||u)(t.Y36(C.eN),t.Y36(l.uw),t.Y36(g.ux),t.Y36(s.QS),t.Y36(E.F0),t.Y36(c.Ye),t.Y36(I.T),t.Y36(L),t.Y36(_.e8))};static#e=this.\u0275cmp=t.Xpm({type:u,selectors:[["app-add-bitacora"]],features:[t.qOj],decls:46,vars:8,consts:[[1,"content"],[1,"content-block"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"card"],[1,"header"],["mat-mini-fab","","matTooltip","Volver",1,"btn","bg-purple","btn-lg","btn-block","waves-effect",3,"click"],[1,"body"],[1,"m-4",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-3"],["appearance","outline",1,"example-full-width","mb-3"],["matInput","","formControlName","name","required",""],[4,"ngIf"],["appearance","fill",1,"example-full-width","mb-3"],["matInput","","formControlName","description","required",""],["matInput","","formControlName","createdAt","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["mat-raised-button","","color","primary",1,"btn-space",3,"disabled"],["type","button","mat-raised-button","","color","warn",3,"click"]],template:function(m,v){if(1&m&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"a",6),t.NdJ("click",function(){return v.volver()}),t.TgZ(7,"mat-icon"),t._uU(8,"keyboard_return"),t.qZA()(),t.TgZ(9,"h1")(10,"strong"),t._uU(11),t.qZA()()(),t.TgZ(12,"div",5)(13,"h6"),t._uU(14),t.qZA()(),t.TgZ(15,"div",7)(16,"form",8),t.NdJ("ngSubmit",function(){return v.onSubmit()}),t.TgZ(17,"div",9)(18,"div",10)(19,"mat-form-field",11)(20,"mat-label"),t._uU(21,"T\xedtulo"),t.qZA(),t._UZ(22,"input",12),t.YNc(23,O,2,0,"mat-error",13),t.qZA()()(),t.TgZ(24,"div",9)(25,"div",10)(26,"mat-form-field",14)(27,"mat-label"),t._uU(28,"Descripci\xf3n"),t.qZA(),t._UZ(29,"textarea",15),t.YNc(30,N,2,0,"mat-error",13),t.qZA()()(),t.TgZ(31,"div",9)(32,"div",10)(33,"mat-form-field",11)(34,"mat-label"),t._uU(35,"Fecha"),t.qZA(),t._UZ(36,"input",16)(37,"mat-datepicker-toggle",17)(38,"mat-datepicker",null,18),t.qZA()()(),t.TgZ(40,"div",9)(41,"div",10)(42,"button",19),t._uU(43," Guardar "),t.qZA(),t.TgZ(44,"button",20),t.NdJ("click",function(){return v.cancelar()}),t._uU(45," Cancelar "),t.qZA()()()()()()()()()()),2&m){const A=t.MAs(39);let x,F;t.xp6(11),t.Oqu(v.title),t.xp6(3),t.Oqu(v.subtitle),t.xp6(2),t.Q6J("formGroup",v.form),t.xp6(7),t.Q6J("ngIf",null==(x=v.form.get("name"))?null:x.hasError("required")),t.xp6(7),t.Q6J("ngIf",null==(F=v.form.get("description"))?null:F.hasError("required")),t.xp6(6),t.Q6J("matDatepicker",A),t.xp6(1),t.Q6J("for",A),t.xp6(5),t.Q6J("disabled",!v.form.valid)}},dependencies:[c.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,B.lW,B.Tq,d.Mq,d.hl,d.nW,n.KE,n.hX,n.TO,n.R9,b.Hw,p.Nt,y.gM]})}return u})()},8812:(P,D,e)=>{e.d(D,{I:()=>L});var h=e(1476),s=e(3566),t=e(8337),C=e(2589),l=e(5879),g=e(9862),E=e(9347),c=e(2939),I=e(1896),S=e(6515);const U=["filter"];let L=(()=>{class _ extends C.n{constructor(d,n,b,p){super(),this.httpClient=d,this.dialog=n,this.snackBar=b,this.router=p,this.listaBitacora=[],this.indicePrimerItem=1,this.indiceUltimoItem=10,this.displayedColumns=["select","i_name","category","qty","date","price","details","actions"],this.selection=new t.Ov(!0,[])}ngOnInit(){console.log(this.listaBitacora,"LISTAAA1"),this.llenarLista(),console.log(this.listaBitacora,"LISTAAA")}refresh(){}addNew(){this.router.navigate(["/doctor/inventory/issued-items"])}editCall1(d){this.router.navigate(["/doctor/inventory/editar-bitacora"])}search(d){let n;this.id=d.id,n="true"===localStorage.getItem("isRtl")?"rtl":"ltr"}editCall(d){let n;this.id=d.id,n="true"===localStorage.getItem("isRtl")?"rtl":"ltr"}deleteItem(d){let n;this.id=d.id,n="true"===localStorage.getItem("isRtl")?"rtl":"ltr"}refreshTable(){this.paginator._changePageSize(this.paginator.pageSize)}showNotification(d,n,b,p){this.snackBar.open(n,"",{duration:2e3,verticalPosition:b,horizontalPosition:p,panelClass:d})}llenarLista(){this.listaBitacora=[{id:1,i_name:"pruebita",date:"27/06/2001",descripcion:"hellou"},{id:2,i_name:"pruebita2",date:"27/06/2001",descripcion:"no soy una descripci\xf3n"}]}static#t=this.\u0275fac=function(n){return new(n||_)(l.Y36(g.eN),l.Y36(E.uw),l.Y36(c.ux),l.Y36(I.F0))};static#e=this.\u0275cmp=l.Xpm({type:_,selectors:[["app-all-bitacora"]],viewQuery:function(n,b){if(1&n&&(l.Gf(h.NW,7),l.Gf(s.YE,7),l.Gf(U,7)),2&n){let p;l.iGM(p=l.CRH())&&(b.paginator=p.first),l.iGM(p=l.CRH())&&(b.sort=p.first),l.iGM(p=l.CRH())&&(b.filter=p.first)}},features:[l.qOj],decls:3,vars:0,consts:[[1,"content"],[1,"content-block"]],template:function(n,b){1&n&&(l.TgZ(0,"section",0)(1,"div",1),l._UZ(2,"app-bitacora"),l.qZA()())},dependencies:[S.D]})}return _})()},6515:(P,D,e)=>{e.d(D,{D:()=>F});var h=e(9347),s=e(6223),t=e(5879),C=e(9394),l=e(6814),g=e(2296),E=e(8034),c=e(4170),I=e(617),S=e(2032);function U(o,T){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," El t\xedtulo es requerido "),t.qZA())}function L(o,T){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," Por favor selecciona una fecha "),t.qZA())}function _(o,T){if(1&o&&(t.TgZ(0,"div",9)(1,"div",10)(2,"mat-form-field",11)(3,"mat-label"),t._uU(4,"T\xedtulo"),t.qZA(),t._UZ(5,"input",12),t.TgZ(6,"mat-icon",13),t._uU(7,"title"),t.qZA(),t.YNc(8,U,2,0,"mat-error",14),t.qZA()(),t.TgZ(9,"div",10)(10,"mat-form-field",11)(11,"mat-label"),t._uU(12,"Fecha"),t.qZA(),t._UZ(13,"input",15)(14,"mat-datepicker-toggle",16)(15,"mat-datepicker",null,17),t.YNc(17,L,2,0,"mat-error",14),t.qZA()()()),2&o){const a=t.MAs(16),i=t.oxw();let r,Z;t.xp6(8),t.Q6J("ngIf",null==(r=i.itemStockListForm.get("i_name"))?null:r.hasError("required")),t.xp6(5),t.Q6J("matDatepicker",a),t.xp6(1),t.Q6J("for",a),t.xp6(3),t.Q6J("ngIf",null==(Z=i.itemStockListForm.get("date"))?null:Z.hasError("required"))}}function B(o,T){1&o&&(t.TgZ(0,"mat-error"),t._uU(1," La descripci\xf3n es requerida "),t.qZA())}function d(o,T){if(1&o&&(t.TgZ(0,"div",9)(1,"div",18)(2,"mat-form-field",11)(3,"mat-label"),t._uU(4,"Descripcion"),t.qZA(),t._UZ(5,"input",19),t.TgZ(6,"mat-icon",13),t._uU(7,"description"),t.qZA(),t.YNc(8,B,2,0,"mat-error",14),t.qZA()()()),2&o){const a=t.oxw();let i;t.xp6(8),t.Q6J("ngIf",null==(i=a.itemStockListForm.get("descripcion"))?null:i.hasError("required"))}}function n(o,T){if(1&o&&(t.TgZ(0,"div",9)(1,"div",20),t._uU(2," T\xedtulo "),t.TgZ(3,"strong",21),t._uU(4),t.qZA()()()),2&o){const a=t.oxw();t.xp6(4),t.Oqu(a.itemStockList.i_name)}}function b(o,T){if(1&o&&(t.TgZ(0,"div",9)(1,"div",20),t._uU(2," Descripci\xf3n "),t.TgZ(3,"strong",21),t._uU(4),t.qZA()()()),2&o){const a=t.oxw();t.xp6(4),t.Oqu(a.itemStockList.descripcion)}}function p(o,T){if(1&o&&(t.TgZ(0,"div",9)(1,"div",20),t._uU(2," Fecha de creaci\xf3n "),t.TgZ(3,"strong",21),t._uU(4),t.qZA()()()),2&o){const a=t.oxw();t.xp6(4),t.Oqu(a.itemStockList.date)}}function y(o,T){if(1&o){const a=t.EpF();t.TgZ(0,"div",9)(1,"div",18)(2,"div",22)(3,"button",23),t.NdJ("click",function(){t.CHM(a);const r=t.oxw();return t.KtG(r.confirmAdd())}),t._uU(4,"Guardar"),t.qZA(),t.TgZ(5,"button",24),t.NdJ("click",function(){t.CHM(a);const r=t.oxw();return t.KtG(r.onNoClick())}),t._uU(6,"Cancelar"),t.qZA()()()()}if(2&o){const a=t.oxw();t.xp6(3),t.Q6J("disabled",!a.itemStockListForm.valid)("mat-dialog-close",1)}}let O=(()=>{class o{constructor(a,i,r,Z){this.dialogRef=a,this.data=i,this.itemStockListService=r,this.fb=Z,this.formControl=new s.p4("",[s.kI.required]),this.bandera=i.bandera,this.itemStockList=i.itemStockList,this.dialogTitle=!1===this.bandera?"EDITAR BITACORA":"CONSULTAR BITACORA",this.itemStockListForm=this.createContactForm()}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("email")?"Not a valid email":""}createContactForm(){return this.fb.group({id:[this.itemStockList.id],i_name:[this.itemStockList.i_name],date:[this.itemStockList.date],descripcion:[this.itemStockList.descripcion]})}submit(){}onNoClick(){this.dialogRef.close()}confirmAdd(){}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(h.so),t.Y36(h.WI),t.Y36(C.l),t.Y36(s.QS))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-form-dialog",5,"h"]],decls:17,vars:8,consts:[[1,"addContainer"],[1,"modalHeader"],[1,"editRowModal"],[1,"modalHeader","clearfix"],[1,"modal-about"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"register-form","m-4",3,"formGroup","ngSubmit"],["class","row",4,"ngIf"],[1,"row"],[1,"col-xl-6","col-lg-6","col-md-12","col-sm-12","mb-2"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","i_name","required",""],["matSuffix","",1,"material-icons-two-tone","color-icon","p-3"],[4,"ngIf"],["matInput","","matInput","","formControlName","date","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],[1,"col-xl-12","col-lg-12","col-md-12","col-sm-12","mb-2"],["matInput","","formControlName","descripcion","required","",1,"flexible-input"],[1,"col-xl-12","col-lg-6","col-md-12","col-sm-12","mb-2"],["id","fechaCreacion"],[1,"example-button-row"],["mat-raised-button","","color","primary",3,"disabled","mat-dialog-close","click"],["mat-raised-button","","color","warn","tabindex","-1",3,"click"]],template:function(i,r){1&i&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),t._uU(5),t.qZA()()(),t.TgZ(6,"button",5),t.NdJ("click",function(){return r.dialogRef.close()}),t.TgZ(7,"mat-icon"),t._uU(8,"close"),t.qZA()()(),t.TgZ(9,"div",6)(10,"form",7),t.NdJ("ngSubmit",function(){return r.submit}),t.YNc(11,_,18,4,"div",8),t.YNc(12,d,9,1,"div",8),t.YNc(13,n,5,1,"div",8),t.YNc(14,b,5,1,"div",8),t.YNc(15,p,5,1,"div",8),t.YNc(16,y,7,2,"div",8),t.qZA()()()),2&i&&(t.xp6(5),t.hij(" ",r.dialogTitle," "),t.xp6(5),t.Q6J("formGroup",r.itemStockListForm),t.xp6(1),t.Q6J("ngIf",1!=r.bandera),t.xp6(1),t.Q6J("ngIf",1!=r.bandera),t.xp6(1),t.Q6J("ngIf",1==r.bandera),t.xp6(1),t.Q6J("ngIf",1==r.bandera),t.xp6(1),t.Q6J("ngIf",1==r.bandera),t.xp6(1),t.Q6J("ngIf",1!=r.bandera))},dependencies:[l.O5,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.sg,s.u,g.lW,g.RK,E.Mq,E.hl,E.nW,h.ZT,h.xY,c.KE,c.hX,c.TO,c.R9,I.Hw,S.Nt]})}return o})();var N=e(2589),R=e(553);let u=(()=>{class o{constructor(a,i){this.dialogRef=a,this.data=i}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(h.so),t.Y36(h.WI))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-delete-bitacora-bitacora",5,"h"]],decls:20,vars:6,consts:[[1,"clearfix"],[1,"font-weight-bold"]],template:function(i,r){1&i&&(t.TgZ(0,"ul",0)(1,"li")(2,"p")(3,"span",1)(4,"strong"),t._uU(5,"T\xedtulo: "),t.qZA()(),t._uU(6),t.qZA()(),t.TgZ(7,"li")(8,"p")(9,"span",1)(10,"strong"),t._uU(11,"Descripci\xf3n: "),t.qZA()(),t._uU(12),t.qZA()(),t.TgZ(13,"li")(14,"p")(15,"span",1)(16,"strong"),t._uU(17,"Fecha de creaci\xf3n: "),t.qZA()(),t._uU(18),t.ALo(19,"date"),t.qZA()()()),2&i&&(t.xp6(6),t.hij("",r.data.row.name," "),t.xp6(6),t.hij("",r.data.row.description," "),t.xp6(6),t.hij("",t.xi3(19,3,r.data.row.createdAt,"dd/MM/yyyy")," "))},dependencies:[l.uU]})}return o})();var Y=e(9862),f=e(2939),m=e(1896),v=e(5798),A=e(8319),x=e(4524);let F=(()=>{class o extends N.n{constructor(a,i,r,Z,M,k,J){super(),this.httpClient=a,this.dialog=i,this.snackBar=r,this.router=Z,this.pasoParametrosService=M,this.route=k,this.auth=J,this.title="BITACORAS",this.subtitle="En esta pantalla podr\xe1s visualizar las bitacoras",this.config={title:"Lista de bitacoras",keys:["id","name","description","updatedAt"],headerColumns:["No","Nombre Completo","Detalle","\xfaltima actualizaci\xf3n"],urlData:R.N.apiUrl+"/logBook/consult",typeColumns:["uuid",null,null,"date"],pageableOptions:{otherParams:{personId:null}},pageable:!0,showFilter:!0},this.modalForm={create:{urlView:"/doctor/inventory/issued-items",actionType:"add"},edit:{urlView:"/doctor/inventory/issued-items",actionType:"edit"},delete:{modal:{title:"\xbfEst\xe1 seguro de eliminar la bitacora?",component:u},actionType:"delete",urlEndpoint:"/logBook"},view:{configView:[{key:"name",label:"Nombre"},{key:"description",label:"Descripci\xf3n"},{key:"createdAt",label:"Fecha de creaci\xf3n",type:"date"}],modal:{title:"Detalle de la bitacora",width:"400px"},actionType:"view"}},this.embebedView=!0}ngOnInit(){this.route.data.subscribe(a=>{console.log(a),this.embebedView=a.embebedView}),this.embebedView?this.config.pageableOptions.otherParams.personId=this.pasoParametrosService.obtenerParametro("dataPersona")?.id:(console.log("embebedView",this.auth.currentUserValue),this.config.pageableOptions.otherParams.personId=this.auth.currentUserValue.person.id,this.modalForm.create.urlView="/patient/inventory/issued-items",this.modalForm.edit.urlView="/patient/inventory/issued-items")}refresh(){}addNew(){this.router.navigate(["/doctor/inventory/issued-items"])}editCall1(a){this.router.navigate(["/doctor/inventory/editar-bitacora"])}search(a){let i;i="true"===localStorage.getItem("isRtl")?"rtl":"ltr",this.dialog.open(O,{data:{itemStockList:a,bandera:!0},direction:i})}editCall(a){let i;i="true"===localStorage.getItem("isRtl")?"rtl":"ltr",this.dialog.open(O,{data:{itemStockList:a,bandera:!1},direction:i})}deleteItem(a){let i;i="true"===localStorage.getItem("isRtl")?"rtl":"ltr",this.dialog.open(u,{data:a,direction:i})}static#t=this.\u0275fac=function(i){return new(i||o)(t.Y36(Y.eN),t.Y36(h.uw),t.Y36(f.ux),t.Y36(m.F0),t.Y36(v.T),t.Y36(m.gz),t.Y36(A.e8))};static#e=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-bitacora"]],features:[t.qOj],decls:1,vars:7,consts:[[3,"title","subtitle","showCreateButton","configTable","modalForm","disableContainer","hideContainer"]],template:function(i,r){1&i&&t._UZ(0,"app-crud-container",0),2&i&&t.Q6J("title",r.title)("subtitle",r.subtitle)("showCreateButton",!0)("configTable",r.config)("modalForm",r.modalForm)("disableContainer",!0)("hideContainer",r.embebedView)},dependencies:[x._],encapsulation:2})}return o})()}}]);